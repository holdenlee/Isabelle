%
\begin{isabellebody}%
\def\isabellecontext{VectorSpace}%
%
\isamarkupheader{Basic theory of vector spaces, using locales%
}
\isamarkuptrue%
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ VectorSpace\isanewline
\isakeyword{imports}\ Main\isanewline
\ \ {\isachardoublequoteopen}{\isachartilde}{\isachartilde}{\isacharslash}src{\isacharslash}HOL{\isacharslash}Algebra{\isacharslash}Module{\isachardoublequoteclose}\isanewline
\ \ {\isachardoublequoteopen}{\isachartilde}{\isachartilde}{\isacharslash}src{\isacharslash}HOL{\isacharslash}Algebra{\isacharslash}Coset{\isachardoublequoteclose}\isanewline
\ \ RingModuleFacts\isanewline
\ \ MonoidSums\isanewline
\ \ LinearCombinations\isanewline
\ \ SumSpaces\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isamarkupsubsection{Basic definitions and facts carried over from modules%
}
\isamarkuptrue%
%
\begin{isamarkuptext}%
A \isa{vectorspace} is a module where the ring is a field. 
Note that we switch notation from $(R, M)$ to $(K, V)$.%
\end{isamarkuptext}%
\isamarkuptrue%
\isacommand{locale}\isamarkupfalse%
\ vectorspace\ {\isacharequal}\ \isanewline
\ \ module{\isacharcolon}\ module\ K\ V\ {\isacharplus}\ field{\isacharcolon}\ field\ K\ \ \isanewline
\ \ \isakeyword{for}\ K\ \isakeyword{and}\ V%
\begin{isamarkuptext}%
A \isa{subspace} of a vectorspace is a nonempty subset 
that is closed under addition and scalar multiplication. These properties
have already been defined in submodule. Caution: W is a set, while V is 
a module record. To get W as a vectorspace, write vs W.%
\end{isamarkuptext}%
\isamarkuptrue%
\isacommand{locale}\isamarkupfalse%
\ subspace\ {\isacharequal}\isanewline
\ \ \isakeyword{fixes}\ K\ \isakeyword{and}\ W\ \isakeyword{and}\ V\ {\isacharparenleft}\isakeyword{structure}{\isacharparenright}\isanewline
\ \ \isakeyword{assumes}\ vs{\isacharcolon}\ {\isachardoublequoteopen}vectorspace\ K\ V{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ submod{\isacharcolon}\ {\isachardoublequoteopen}submodule\ K\ W\ V{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ vectorspace{\isacharparenright}\ is{\isacharunderscore}module{\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}subspace\ K\ W\ V{\isasymLongrightarrow}submodule\ K\ W\ V{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold\ subspace{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
We introduce some basic facts and definitions copied from module.
We introduce some abbreviations, to match convention.%
\end{isamarkuptext}%
\isamarkuptrue%
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ vectorspace{\isacharparenright}\ vs{\isacharcolon}{\isacharcolon}{\isachardoublequoteopen}{\isacharprime}c\ set\ {\isasymRightarrow}\ {\isacharparenleft}{\isacharprime}a{\isacharcomma}\ {\isacharprime}c{\isacharcomma}\ {\isacharprime}d{\isacharparenright}\ module{\isacharunderscore}scheme{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{where}\ {\isachardoublequoteopen}vs\ W\ {\isasymequiv}\ V{\isasymlparr}carrier\ {\isacharcolon}{\isacharequal}W{\isasymrparr}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ vectorspace{\isacharparenright}\ carrier{\isacharunderscore}vs{\isacharunderscore}is{\isacharunderscore}self\ {\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}carrier\ {\isacharparenleft}vs\ W{\isacharparenright}\ {\isacharequal}\ W{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ vectorspace{\isacharparenright}\ subspace{\isacharunderscore}is{\isacharunderscore}vs{\isacharcolon}\isanewline
\ \ \isakeyword{fixes}\ W{\isacharcolon}{\isacharcolon}{\isachardoublequoteopen}{\isacharprime}c\ set{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}subspace\ K\ W\ V{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}vectorspace\ K\ {\isacharparenleft}vs\ W{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{0}}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}unfold\ vectorspace{\isacharunderscore}def\ subspace{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ submodule{\isacharunderscore}is{\isacharunderscore}module{\isacharcomma}\ auto{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ module{\isacharparenright}\ subspace{\isacharunderscore}sum{\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharbrackleft}{\isacharprime}c\ set{\isacharcomma}\ {\isacharprime}c\ set{\isacharbrackright}\ {\isasymRightarrow}\ {\isacharprime}c\ set{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{where}\ {\isachardoublequoteopen}subspace{\isacharunderscore}sum\ W{\isadigit{1}}\ W{\isadigit{2}}\ {\isasymequiv}submodule{\isacharunderscore}sum\ W{\isadigit{1}}\ W{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ vectorspace{\isacharparenright}\ vs{\isacharunderscore}zero{\isacharunderscore}lin{\isacharunderscore}dep{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ h{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}S{\isasymsubseteq}carrier\ V{\isachardoublequoteclose}\ \isakeyword{and}\ h{\isadigit{3}}{\isacharcolon}\ {\isachardoublequoteopen}lin{\isacharunderscore}indpt\ S{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymzero}\isactrlbsub V\isactrlesub \ {\isasymnotin}\ S{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ vs{\isacharcolon}\ {\isachardoublequoteopen}vectorspace\ K\ V{\isachardoublequoteclose}\isacommand{{\isachardot}{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ vs\ \isacommand{have}\isamarkupfalse%
\ nonzero{\isacharcolon}\ {\isachardoublequoteopen}carrier\ K\ {\isasymnoteq}{\isacharbraceleft}{\isasymzero}\isactrlbsub K\isactrlesub {\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ one{\isacharunderscore}zeroI\ zero{\isacharunderscore}not{\isacharunderscore}one{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ h{\isadigit{2}}\ h{\isadigit{3}}\ nonzero\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ zero{\isacharunderscore}nin{\isacharunderscore}lin{\isacharunderscore}indpt{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
A \isa{linear{\isacharunderscore}map} is a module homomorphism between 2 vectorspaces
over the same field.%
\end{isamarkuptext}%
\isamarkuptrue%
\isacommand{locale}\isamarkupfalse%
\ linear{\isacharunderscore}map\ {\isacharequal}\ \isanewline
\ \ V{\isacharcolon}\ vectorspace\ K\ V\ {\isacharplus}\ W{\isacharcolon}\ vectorspace\ K\ W\isanewline
\ \ {\isacharplus}\ mod{\isacharunderscore}hom{\isacharcolon}\ mod{\isacharunderscore}hom\ K\ V\ W\ T\isanewline
\ \ \ \ \isakeyword{for}\ K\ \isakeyword{and}\ V\ \isakeyword{and}\ W\ \isakeyword{and}\ T\isanewline
\isanewline
\isacommand{context}\isamarkupfalse%
\ linear{\isacharunderscore}map\isanewline
\isakeyword{begin}\isanewline
\isacommand{lemmas}\isamarkupfalse%
\ T{\isacharunderscore}hom\ {\isacharequal}\ f{\isacharunderscore}hom\isanewline
\isacommand{lemmas}\isamarkupfalse%
\ T{\isacharunderscore}add\ {\isacharequal}\ f{\isacharunderscore}add\isanewline
\isacommand{lemmas}\isamarkupfalse%
\ T{\isacharunderscore}smult\ {\isacharequal}\ f{\isacharunderscore}smult\isanewline
\isacommand{lemmas}\isamarkupfalse%
\ T{\isacharunderscore}im\ {\isacharequal}\ f{\isacharunderscore}im\isanewline
\isacommand{lemmas}\isamarkupfalse%
\ T{\isacharunderscore}neg\ {\isacharequal}\ f{\isacharunderscore}neg\isanewline
\isacommand{lemmas}\isamarkupfalse%
\ T{\isacharunderscore}minus\ {\isacharequal}\ f{\isacharunderscore}minus\isanewline
\isacommand{lemmas}\isamarkupfalse%
\ T{\isacharunderscore}ker\ {\isacharequal}\ f{\isacharunderscore}ker\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ imT{\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}e\ set{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{where}\ {\isachardoublequoteopen}imT\ {\isasymequiv}\ mod{\isacharunderscore}hom{\isachardot}im{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ kerT{\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}c\ set{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{where}\ {\isachardoublequoteopen}kerT\ {\isasymequiv}\ mod{\isacharunderscore}hom{\isachardot}ker{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemmas}\isamarkupfalse%
\ T{\isadigit{0}}{\isacharunderscore}is{\isacharunderscore}{\isadigit{0}}{\isacharbrackleft}simp{\isacharbrackright}\ {\isacharequal}\ f{\isadigit{0}}{\isacharunderscore}is{\isacharunderscore}{\isadigit{0}}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ kerT{\isacharunderscore}is{\isacharunderscore}subspace{\isacharcolon}\ {\isachardoublequoteopen}subspace\ K\ ker\ V{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ vs{\isacharcolon}\ {\isachardoublequoteopen}vectorspace\ K\ V{\isachardoublequoteclose}\isacommand{{\isachardot}{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ vs\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}unfold\ subspace{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ ker{\isacharunderscore}is{\isacharunderscore}submodule{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ imT{\isacharunderscore}is{\isacharunderscore}subspace{\isacharcolon}\ {\isachardoublequoteopen}subspace\ K\ imT\ W{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ vs{\isacharcolon}\ {\isachardoublequoteopen}vectorspace\ K\ W{\isachardoublequoteclose}\isacommand{{\isachardot}{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ vs\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}unfold\ subspace{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ im{\isacharunderscore}is{\isacharunderscore}submodule{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isacommand{end}\isamarkupfalse%
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ vs{\isacharunderscore}criteria{\isacharcolon}\isanewline
\ \ \isakeyword{fixes}\ K\ \isakeyword{and}\ V\ \isanewline
\ \ \isakeyword{assumes}\ field{\isacharcolon}\ {\isachardoublequoteopen}field\ K{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ zero{\isacharcolon}\ {\isachardoublequoteopen}{\isasymzero}\isactrlbsub V\isactrlesub {\isasymin}\ carrier\ V{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isakeyword{and}\ add{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}v\ w{\isachardot}\ v{\isasymin}carrier\ V\ {\isasymand}\ w{\isasymin}carrier\ V{\isasymlongrightarrow}\ v{\isasymoplus}\isactrlbsub V\isactrlesub \ w{\isasymin}\ carrier\ V{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ neg{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}v{\isasymin}carrier\ V{\isachardot}\ {\isacharparenleft}{\isasymexists}neg{\isacharunderscore}v{\isasymin}carrier\ V{\isachardot}\ v{\isasymoplus}\isactrlbsub V\isactrlesub neg{\isacharunderscore}v{\isacharequal}{\isasymzero}\isactrlbsub V\isactrlesub {\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ smult{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}c\ v{\isachardot}\ c{\isasymin}\ carrier\ K\ {\isasymand}\ v{\isasymin}carrier\ V{\isasymlongrightarrow}\ c{\isasymodot}\isactrlbsub V\isactrlesub \ v\ {\isasymin}\ carrier\ V{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ comm{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}v\ w{\isachardot}\ v{\isasymin}carrier\ V\ {\isasymand}\ w{\isasymin}carrier\ V{\isasymlongrightarrow}\ v{\isasymoplus}\isactrlbsub V\isactrlesub \ w{\isacharequal}w{\isasymoplus}\isactrlbsub V\isactrlesub \ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ assoc{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}v\ w\ x{\isachardot}\ v{\isasymin}carrier\ V\ {\isasymand}\ w{\isasymin}carrier\ V\ {\isasymand}\ x{\isasymin}carrier\ V{\isasymlongrightarrow}\ {\isacharparenleft}v{\isasymoplus}\isactrlbsub V\isactrlesub \ w{\isacharparenright}{\isasymoplus}\isactrlbsub V\isactrlesub \ x{\isacharequal}\ v{\isasymoplus}\isactrlbsub V\isactrlesub \ {\isacharparenleft}w{\isasymoplus}\isactrlbsub V\isactrlesub \ x{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ add{\isacharunderscore}id{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}v{\isasymin}carrier\ V{\isachardot}\ {\isacharparenleft}v{\isasymoplus}\isactrlbsub V\isactrlesub \ {\isasymzero}\isactrlbsub V\isactrlesub \ {\isacharequal}v{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ compat{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}a\ b\ v{\isachardot}\ a{\isasymin}\ carrier\ K\ {\isasymand}\ b{\isasymin}\ carrier\ K\ {\isasymand}\ v{\isasymin}carrier\ V{\isasymlongrightarrow}\ {\isacharparenleft}a{\isasymotimes}\isactrlbsub K\isactrlesub \ b{\isacharparenright}{\isasymodot}\isactrlbsub V\isactrlesub \ v\ {\isacharequal}a{\isasymodot}\isactrlbsub V\isactrlesub \ {\isacharparenleft}b{\isasymodot}\isactrlbsub V\isactrlesub \ v{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ smult{\isacharunderscore}id{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}v{\isasymin}carrier\ V{\isachardot}\ {\isacharparenleft}{\isasymone}\isactrlbsub K\isactrlesub \ {\isasymodot}\isactrlbsub V\isactrlesub \ v\ {\isacharequal}v{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ dist{\isacharunderscore}f{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}a\ b\ v{\isachardot}\ a{\isasymin}\ carrier\ K\ {\isasymand}\ b{\isasymin}\ carrier\ K\ {\isasymand}\ v{\isasymin}carrier\ V{\isasymlongrightarrow}\ {\isacharparenleft}a{\isasymoplus}\isactrlbsub K\isactrlesub \ b{\isacharparenright}{\isasymodot}\isactrlbsub V\isactrlesub \ v\ {\isacharequal}{\isacharparenleft}a{\isasymodot}\isactrlbsub V\isactrlesub \ v{\isacharparenright}\ {\isasymoplus}\isactrlbsub V\isactrlesub \ {\isacharparenleft}b{\isasymodot}\isactrlbsub V\isactrlesub \ v{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ dist{\isacharunderscore}add{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}a\ v\ w{\isachardot}\ a{\isasymin}\ carrier\ K\ {\isasymand}\ v{\isasymin}carrier\ V\ {\isasymand}\ w{\isasymin}carrier\ V{\isasymlongrightarrow}\ a{\isasymodot}\isactrlbsub V\isactrlesub \ {\isacharparenleft}v{\isasymoplus}\isactrlbsub V\isactrlesub \ w{\isacharparenright}\ {\isacharequal}{\isacharparenleft}a{\isasymodot}\isactrlbsub V\isactrlesub \ v{\isacharparenright}\ {\isasymoplus}\isactrlbsub V\isactrlesub \ {\isacharparenleft}a{\isasymodot}\isactrlbsub V\isactrlesub \ w{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}vectorspace\ K\ V{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\ \isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ field\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}cring\ K{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold\ field{\isacharunderscore}def\ domain{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ assms\ {\isadigit{1}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}module\ K\ V{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ module{\isacharunderscore}criteria{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ field\ {\isadigit{2}}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold\ vectorspace{\isacharunderscore}def\ module{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
For any set $S$, the space of functions $S\to K$ forms a vector space.%
\end{isamarkuptext}%
\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ vectorspace{\isacharparenright}\ func{\isacharunderscore}space{\isacharunderscore}is{\isacharunderscore}vs{\isacharcolon}\isanewline
\ \ \isakeyword{fixes}\ S\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}vectorspace\ K\ {\isacharparenleft}func{\isacharunderscore}space\ S{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}field\ K{\isachardoublequoteclose}\isacommand{{\isachardot}{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}module\ K\ {\isacharparenleft}func{\isacharunderscore}space\ S{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ func{\isacharunderscore}space{\isacharunderscore}is{\isacharunderscore}module{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{0}}\ {\isadigit{1}}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold\ vectorspace{\isacharunderscore}def\ module{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ direct{\isacharunderscore}sum{\isacharunderscore}is{\isacharunderscore}vs{\isacharcolon}\ \isanewline
\ \ \isakeyword{fixes}\ K\ V{\isadigit{1}}\ V{\isadigit{2}}\isanewline
\ \ \isakeyword{assumes}\ h{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}vectorspace\ K\ V{\isadigit{1}}{\isachardoublequoteclose}\ \isakeyword{and}\ h{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}vectorspace\ K\ V{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}vectorspace\ K\ {\isacharparenleft}direct{\isacharunderscore}sum\ V{\isadigit{1}}\ V{\isadigit{2}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ h{\isadigit{1}}\ h{\isadigit{2}}\ \isacommand{have}\isamarkupfalse%
\ mod{\isacharcolon}\ {\isachardoublequoteopen}module\ K\ {\isacharparenleft}direct{\isacharunderscore}sum\ V{\isadigit{1}}\ V{\isadigit{2}}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold\ vectorspace{\isacharunderscore}def{\isacharcomma}\ intro\ direct{\isacharunderscore}sum{\isacharunderscore}is{\isacharunderscore}module{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ mod\ h{\isadigit{1}}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold\ vectorspace{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ inj{\isadigit{1}}{\isacharunderscore}linear{\isacharcolon}\isanewline
\ \ \isakeyword{fixes}\ K\ V{\isadigit{1}}\ V{\isadigit{2}}\isanewline
\ \ \isakeyword{assumes}\ h{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}vectorspace\ K\ V{\isadigit{1}}{\isachardoublequoteclose}\ \isakeyword{and}\ h{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}vectorspace\ K\ V{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}linear{\isacharunderscore}map\ K\ V{\isadigit{1}}\ {\isacharparenleft}direct{\isacharunderscore}sum\ V{\isadigit{1}}\ V{\isadigit{2}}{\isacharparenright}\ {\isacharparenleft}inj{\isadigit{1}}\ V{\isadigit{1}}\ V{\isadigit{2}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\ \isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ h{\isadigit{1}}\ h{\isadigit{2}}\ \isacommand{have}\isamarkupfalse%
\ mod{\isacharcolon}\ {\isachardoublequoteopen}mod{\isacharunderscore}hom\ K\ V{\isadigit{1}}\ {\isacharparenleft}direct{\isacharunderscore}sum\ V{\isadigit{1}}\ V{\isadigit{2}}{\isacharparenright}\ {\isacharparenleft}inj{\isadigit{1}}\ V{\isadigit{1}}\ V{\isadigit{2}}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold\ vectorspace{\isacharunderscore}def{\isacharcomma}\ intro\ inj{\isadigit{1}}{\isacharunderscore}hom{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ mod\ h{\isadigit{1}}\ h{\isadigit{2}}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold\ linear{\isacharunderscore}map{\isacharunderscore}def\ vectorspace{\isacharunderscore}def\ {\isacharcomma}\ auto{\isacharcomma}\ intro\ direct{\isacharunderscore}sum{\isacharunderscore}is{\isacharunderscore}module{\isacharcomma}\ auto{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ inj{\isadigit{2}}{\isacharunderscore}linear{\isacharcolon}\isanewline
\ \ \isakeyword{fixes}\ K\ V{\isadigit{1}}\ V{\isadigit{2}}\isanewline
\ \ \isakeyword{assumes}\ h{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}vectorspace\ K\ V{\isadigit{1}}{\isachardoublequoteclose}\ \isakeyword{and}\ h{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}vectorspace\ K\ V{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}linear{\isacharunderscore}map\ K\ V{\isadigit{2}}\ {\isacharparenleft}direct{\isacharunderscore}sum\ V{\isadigit{1}}\ V{\isadigit{2}}{\isacharparenright}\ {\isacharparenleft}inj{\isadigit{2}}\ V{\isadigit{1}}\ V{\isadigit{2}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\ \isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ h{\isadigit{1}}\ h{\isadigit{2}}\ \isacommand{have}\isamarkupfalse%
\ mod{\isacharcolon}\ {\isachardoublequoteopen}mod{\isacharunderscore}hom\ K\ V{\isadigit{2}}\ {\isacharparenleft}direct{\isacharunderscore}sum\ V{\isadigit{1}}\ V{\isadigit{2}}{\isacharparenright}\ {\isacharparenleft}inj{\isadigit{2}}\ V{\isadigit{1}}\ V{\isadigit{2}}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold\ vectorspace{\isacharunderscore}def{\isacharcomma}\ intro\ inj{\isadigit{2}}{\isacharunderscore}hom{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ mod\ h{\isadigit{1}}\ h{\isadigit{2}}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold\ linear{\isacharunderscore}map{\isacharunderscore}def\ vectorspace{\isacharunderscore}def\ {\isacharcomma}\ auto{\isacharcomma}\ intro\ direct{\isacharunderscore}sum{\isacharunderscore}is{\isacharunderscore}module{\isacharcomma}\ auto{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
For subspaces $V_1,V_2\subseteq V$, the map $V_1\oplus V_2\to V$ given by $(v_1,v_2)\mapsto 
v_1+v_2$ is linear.%
\end{isamarkuptext}%
\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ vectorspace{\isacharparenright}\ sum{\isacharunderscore}map{\isacharunderscore}linear{\isacharcolon}\ \isanewline
\ \ \isakeyword{fixes}\ V{\isadigit{1}}\ V{\isadigit{2}}\isanewline
\ \ \isakeyword{assumes}\ h{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}subspace\ K\ V{\isadigit{1}}\ V{\isachardoublequoteclose}\ \isakeyword{and}\ h{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}subspace\ K\ V{\isadigit{2}}\ V{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}linear{\isacharunderscore}map\ K\ {\isacharparenleft}direct{\isacharunderscore}sum\ {\isacharparenleft}vs\ V{\isadigit{1}}{\isacharparenright}\ {\isacharparenleft}vs\ V{\isadigit{2}}{\isacharparenright}{\isacharparenright}\ V\ {\isacharparenleft}{\isasymlambda}\ v{\isachardot}\ {\isacharparenleft}fst\ v{\isacharparenright}\ {\isasymoplus}\isactrlbsub V\isactrlesub \ {\isacharparenleft}snd\ v{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\ \isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ h{\isadigit{1}}\ h{\isadigit{2}}\ \isacommand{have}\isamarkupfalse%
\ mod{\isacharcolon}\ {\isachardoublequoteopen}mod{\isacharunderscore}hom\ K\ {\isacharparenleft}direct{\isacharunderscore}sum\ {\isacharparenleft}vs\ V{\isadigit{1}}{\isacharparenright}\ {\isacharparenleft}vs\ V{\isadigit{2}}{\isacharparenright}{\isacharparenright}\ V\ {\isacharparenleft}{\isasymlambda}\ v{\isachardot}\ {\isacharparenleft}fst\ v{\isacharparenright}\ {\isasymoplus}\isactrlbsub V\isactrlesub \ {\isacharparenleft}snd\ v{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}\ intro\ sum{\isacharunderscore}map{\isacharunderscore}hom{\isacharcomma}\ unfold\ subspace{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ mod\ h{\isadigit{1}}\ h{\isadigit{2}}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}unfold\ linear{\isacharunderscore}map{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}intro\ direct{\isacharunderscore}sum{\isacharunderscore}is{\isacharunderscore}vs\ subspace{\isacharunderscore}is{\isacharunderscore}vs{\isacharcomma}\ auto{\isacharparenright}\isacommand{{\isachardot}{\isachardot}}\isamarkupfalse%
\ \isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ vectorspace{\isacharparenright}\ sum{\isacharunderscore}is{\isacharunderscore}subspace{\isacharcolon}\isanewline
\ \ \isakeyword{fixes}\ W{\isadigit{1}}\ W{\isadigit{2}}\isanewline
\ \ \isakeyword{assumes}\ h{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}subspace\ K\ W{\isadigit{1}}\ V{\isachardoublequoteclose}\ \isakeyword{and}\ h{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}subspace\ K\ W{\isadigit{2}}\ V{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}subspace\ K\ {\isacharparenleft}subspace{\isacharunderscore}sum\ W{\isadigit{1}}\ W{\isadigit{2}}{\isacharparenright}\ V{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ h{\isadigit{1}}\ h{\isadigit{2}}\ \isacommand{have}\isamarkupfalse%
\ mod{\isacharcolon}\ {\isachardoublequoteopen}submodule\ K\ {\isacharparenleft}submodule{\isacharunderscore}sum\ W{\isadigit{1}}\ W{\isadigit{2}}{\isacharparenright}\ V{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}\ intro\ sum{\isacharunderscore}is{\isacharunderscore}submodule{\isacharcomma}\ unfold\ subspace{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ mod\ h{\isadigit{1}}\ h{\isadigit{2}}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold\ subspace{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
If $W_1,W_2\subseteq V$ are subspaces, $W_1\subseteq W_1 + W_2$%
\end{isamarkuptext}%
\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ vectorspace{\isacharparenright}\ in{\isacharunderscore}sum{\isacharunderscore}vs{\isacharcolon}\isanewline
\ \ \isakeyword{fixes}\ W{\isadigit{1}}\ W{\isadigit{2}}\isanewline
\ \ \isakeyword{assumes}\ h{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}subspace\ K\ W{\isadigit{1}}\ V{\isachardoublequoteclose}\ \isakeyword{and}\ h{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}subspace\ K\ W{\isadigit{2}}\ V{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}W{\isadigit{1}}\ {\isasymsubseteq}\ subspace{\isacharunderscore}sum\ W{\isadigit{1}}\ W{\isadigit{2}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ h{\isadigit{1}}\ h{\isadigit{2}}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ in{\isacharunderscore}sum{\isacharcomma}\ unfold\ subspace{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ vectorspace{\isacharparenright}\ vsum{\isacharunderscore}comm{\isacharcolon}\isanewline
\ \ \isakeyword{fixes}\ W{\isadigit{1}}\ W{\isadigit{2}}\isanewline
\ \ \isakeyword{assumes}\ h{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}subspace\ K\ W{\isadigit{1}}\ V{\isachardoublequoteclose}\ \isakeyword{and}\ h{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}subspace\ K\ W{\isadigit{2}}\ V{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}subspace{\isacharunderscore}sum\ W{\isadigit{1}}\ W{\isadigit{2}}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}subspace{\isacharunderscore}sum\ W{\isadigit{2}}\ W{\isadigit{1}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\ \isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ h{\isadigit{1}}\ h{\isadigit{2}}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ msum{\isacharunderscore}comm{\isacharcomma}\ unfold\ subspace{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
If $W_1,W_2\subseteq V$ are subspaces, then $W_1+W_2$ is the minimal subspace such that 
both $W_1\subseteq W$ and $W_2\subseteq W$.%
\end{isamarkuptext}%
\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ vectorspace{\isacharparenright}\ vsum{\isacharunderscore}is{\isacharunderscore}minimal{\isacharcolon}\isanewline
\ \ \isakeyword{fixes}\ W\ W{\isadigit{1}}\ W{\isadigit{2}}\isanewline
\ \ \isakeyword{assumes}\ h{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}subspace\ K\ W{\isadigit{1}}\ V{\isachardoublequoteclose}\ \isakeyword{and}\ h{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}subspace\ K\ W{\isadigit{2}}\ V{\isachardoublequoteclose}\ \isakeyword{and}\ h{\isadigit{3}}{\isacharcolon}\ {\isachardoublequoteopen}subspace\ K\ W\ V{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}subspace{\isacharunderscore}sum\ W{\isadigit{1}}\ W{\isadigit{2}}{\isacharparenright}\ {\isasymsubseteq}\ W\ {\isasymlongleftrightarrow}\ W{\isadigit{1}}\ {\isasymsubseteq}\ W\ {\isasymand}\ W{\isadigit{2}}\ {\isasymsubseteq}\ W{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\ \isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ h{\isadigit{1}}\ h{\isadigit{2}}\ h{\isadigit{3}}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ sum{\isacharunderscore}is{\isacharunderscore}minimal{\isacharcomma}\ unfold\ subspace{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ vectorspace{\isacharparenright}\ span{\isacharunderscore}is{\isacharunderscore}subspace{\isacharcolon}\isanewline
\ \ \isakeyword{fixes}\ S\isanewline
\ \ \isakeyword{assumes}\ h{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}S{\isasymsubseteq}carrier\ V{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}subspace\ K\ {\isacharparenleft}span\ S{\isacharparenright}\ V{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}vectorspace\ K\ V{\isachardoublequoteclose}\isacommand{{\isachardot}{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ h{\isadigit{2}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}submodule\ K\ {\isacharparenleft}span\ S{\isacharparenright}\ V{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ span{\isacharunderscore}is{\isacharunderscore}submodule{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{0}}\ {\isadigit{1}}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold\ subspace{\isacharunderscore}def\ mod{\isacharunderscore}hom{\isacharunderscore}def\ linear{\isacharunderscore}map{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isamarkupsubsubsection{Facts specific to vector spaces%
}
\isamarkuptrue%
%
\begin{isamarkuptext}%
If $av = w$ and $a\neq 0$, $v=a^{-1}w$.%
\end{isamarkuptext}%
\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ vectorspace{\isacharparenright}\ mult{\isacharunderscore}inverse{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ h{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}a{\isasymin}carrier\ K{\isachardoublequoteclose}\ \isakeyword{and}\ h{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}v{\isasymin}carrier\ V{\isachardoublequoteclose}\ \isakeyword{and}\ h{\isadigit{3}}{\isacharcolon}\ {\isachardoublequoteopen}a\ {\isasymodot}\isactrlbsub V\isactrlesub \ v\ {\isacharequal}\ w{\isachardoublequoteclose}\ \isakeyword{and}\ h{\isadigit{4}}{\isacharcolon}\ {\isachardoublequoteopen}a{\isasymnoteq}{\isasymzero}\isactrlbsub K\isactrlesub {\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}v\ {\isacharequal}\ {\isacharparenleft}inv\isactrlbsub K\isactrlesub \ a\ {\isacharparenright}{\isasymodot}\isactrlbsub V\isactrlesub \ w{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ h{\isadigit{1}}\ h{\isadigit{2}}\ h{\isadigit{3}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}w{\isasymin}carrier\ V{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ h{\isadigit{3}}\ {\isadigit{1}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}inv\isactrlbsub K\isactrlesub \ a\ {\isacharparenright}{\isasymodot}\isactrlbsub V\isactrlesub {\isacharparenleft}a\ {\isasymodot}\isactrlbsub V\isactrlesub \ v{\isacharparenright}\ {\isacharequal}{\isacharparenleft}inv\isactrlbsub K\isactrlesub \ a\ {\isacharparenright}{\isasymodot}\isactrlbsub V\isactrlesub w{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ h{\isadigit{1}}\ h{\isadigit{4}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{3}}{\isacharcolon}\ {\isachardoublequoteopen}inv\isactrlbsub K\isactrlesub \ a{\isasymin}carrier\ K{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{interpret}\isamarkupfalse%
\ g{\isacharcolon}\ group\ {\isachardoublequoteopen}{\isacharparenleft}units{\isacharunderscore}group\ K{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ units{\isacharunderscore}form{\isacharunderscore}group{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ f{\isacharcolon}\ {\isachardoublequoteopen}field\ K{\isachardoublequoteclose}\isacommand{{\isachardot}{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ f\ h{\isadigit{1}}\ h{\isadigit{4}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{4}}{\isacharcolon}\ {\isachardoublequoteopen}a{\isasymin}Units\ K{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold\ field{\isacharunderscore}def\ field{\isacharunderscore}axioms{\isacharunderscore}def{\isacharcomma}\ simp{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{4}}\ h{\isadigit{1}}\ h{\isadigit{4}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{5}}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}{\isacharparenleft}inv\isactrlbsub K\isactrlesub \ a{\isacharparenright}\ {\isasymotimes}\isactrlbsub K\isactrlesub a{\isacharparenright}\ {\isacharequal}\ {\isasymone}\isactrlbsub K\isactrlesub {\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ Units{\isacharunderscore}l{\isacharunderscore}inv{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{5}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{6}}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}inv\isactrlbsub K\isactrlesub \ a\ {\isacharparenright}{\isasymodot}\isactrlbsub V\isactrlesub {\isacharparenleft}a\ {\isasymodot}\isactrlbsub V\isactrlesub \ v{\isacharparenright}\ {\isacharequal}\ v{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ h{\isadigit{1}}\ h{\isadigit{2}}\ h{\isadigit{4}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{7}}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}inv\isactrlbsub K\isactrlesub \ a\ {\isacharparenright}{\isasymodot}\isactrlbsub V\isactrlesub {\isacharparenleft}a\ {\isasymodot}\isactrlbsub V\isactrlesub \ v{\isacharparenright}\ {\isacharequal}{\isacharparenleft}inv\isactrlbsub K\isactrlesub \ a\ {\isasymotimes}\isactrlbsub K\isactrlesub a{\isacharparenright}\ {\isasymodot}\isactrlbsub V\isactrlesub \ v{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ smult{\isacharunderscore}assoc{\isadigit{1}}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{5}}\ h{\isadigit{2}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{8}}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}inv\isactrlbsub K\isactrlesub \ a\ {\isasymotimes}\isactrlbsub K\isactrlesub a{\isacharparenright}\ {\isasymodot}\isactrlbsub V\isactrlesub \ v\ {\isacharequal}\ v{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{7}}\ {\isadigit{8}}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{2}}\ {\isadigit{6}}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
If $w\in S$ and $\sum_{w\in S} a_ww=0$, we have $v=\sum_{w\not\in S}a_v^{-1}a_ww$%
\end{isamarkuptext}%
\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ vectorspace{\isacharparenright}\ lincomb{\isacharunderscore}isolate{\isacharcolon}\ \isanewline
\ \ \isakeyword{fixes}\ A\ v\isanewline
\ \ \isakeyword{assumes}\ h{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\ \isakeyword{and}\ h{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}A{\isasymsubseteq}carrier\ V{\isachardoublequoteclose}\ \ \isakeyword{and}\ h{\isadigit{3}}{\isacharcolon}\ {\isachardoublequoteopen}a{\isasymin}A{\isasymrightarrow}carrier\ K{\isachardoublequoteclose}\ \isakeyword{and}\ h{\isadigit{4}}{\isacharcolon}\ {\isachardoublequoteopen}v{\isasymin}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ h{\isadigit{5}}{\isacharcolon}\ {\isachardoublequoteopen}a\ v\ {\isasymnoteq}\ {\isasymzero}\isactrlbsub K\isactrlesub {\isachardoublequoteclose}\ \isakeyword{and}\ h{\isadigit{6}}{\isacharcolon}\ {\isachardoublequoteopen}lincomb\ a\ A{\isacharequal}{\isasymzero}\isactrlbsub V\isactrlesub {\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}v{\isacharequal}lincomb\ {\isacharparenleft}{\isasymlambda}w{\isachardot}\ {\isasymominus}\isactrlbsub K\isactrlesub {\isacharparenleft}inv\isactrlbsub K\isactrlesub \ {\isacharparenleft}a\ v{\isacharparenright}{\isacharparenright}\ {\isasymotimes}\isactrlbsub K\isactrlesub \ a\ w{\isacharparenright}\ {\isacharparenleft}A{\isacharminus}{\isacharbraceleft}v{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}v{\isasymin}\ span\ {\isacharparenleft}A{\isacharminus}{\isacharbraceleft}v{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ h{\isadigit{1}}\ h{\isadigit{2}}\ h{\isadigit{3}}\ h{\isadigit{4}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}lincomb\ a\ A\ {\isacharequal}\ {\isacharparenleft}{\isacharparenleft}a\ v{\isacharparenright}\ {\isasymodot}\isactrlbsub V\isactrlesub \ v{\isacharparenright}\ {\isasymoplus}\isactrlbsub V\isactrlesub \ lincomb\ a\ {\isacharparenleft}A{\isacharminus}{\isacharbraceleft}v{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ lincomb{\isacharunderscore}del{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{1}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymzero}\isactrlbsub V\isactrlesub {\isacharequal}\ {\isacharparenleft}{\isacharparenleft}a\ v{\isacharparenright}\ {\isasymodot}\isactrlbsub V\isactrlesub \ v{\isacharparenright}\ {\isasymoplus}\isactrlbsub V\isactrlesub \ lincomb\ a\ {\isacharparenleft}A{\isacharminus}{\isacharbraceleft}v{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ h{\isadigit{6}}{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ h{\isadigit{1}}\ h{\isadigit{2}}\ h{\isadigit{3}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{5}}{\isacharcolon}\ {\isachardoublequoteopen}lincomb\ a\ {\isacharparenleft}A{\isacharminus}{\isacharbraceleft}v{\isacharbraceright}{\isacharparenright}\ {\isasymin}carrier\ V{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{2}}\ h{\isadigit{1}}\ h{\isadigit{2}}\ h{\isadigit{3}}\ h{\isadigit{4}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{3}}{\isacharcolon}\ {\isachardoublequoteopen}\ {\isasymominus}\isactrlbsub V\isactrlesub \ lincomb\ a\ {\isacharparenleft}A{\isacharminus}{\isacharbraceleft}v{\isacharbraceright}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}{\isacharparenleft}a\ v{\isacharparenright}\ {\isasymodot}\isactrlbsub V\isactrlesub \ v{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharbang}{\isacharcolon}\ M{\isachardot}minus{\isacharunderscore}equality{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{6}}{\isacharcolon}\ {\isachardoublequoteopen}v\ {\isacharequal}\ {\isacharparenleft}{\isasymominus}\isactrlbsub K\isactrlesub \ {\isacharparenleft}inv\isactrlbsub K\isactrlesub \ {\isacharparenleft}a\ v{\isacharparenright}{\isacharparenright}{\isacharparenright}\ {\isasymodot}\isactrlbsub V\isactrlesub \ lincomb\ a\ {\isacharparenleft}A{\isacharminus}{\isacharbraceleft}v{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ h{\isadigit{2}}\ h{\isadigit{3}}\ h{\isadigit{4}}\ h{\isadigit{5}}\ {\isadigit{3}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{7}}{\isacharcolon}\ {\isachardoublequoteopen}v\ {\isacharequal}\ inv\isactrlbsub K\isactrlesub \ {\isacharparenleft}a\ v{\isacharparenright}\ {\isasymodot}\isactrlbsub V\isactrlesub \ {\isacharparenleft}{\isasymominus}\isactrlbsub V\isactrlesub \ lincomb\ a\ {\isacharparenleft}A{\isacharminus}{\isacharbraceleft}v{\isacharbraceright}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ mult{\isacharunderscore}inverse{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ assms\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{8}}{\isacharcolon}\ {\isachardoublequoteopen}inv\isactrlbsub K\isactrlesub \ {\isacharparenleft}a\ v{\isacharparenright}{\isasymin}carrier\ K{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ assms\ {\isadigit{5}}\ {\isadigit{8}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{9}}{\isacharcolon}\ {\isachardoublequoteopen}inv\isactrlbsub K\isactrlesub \ {\isacharparenleft}a\ v{\isacharparenright}\ {\isasymodot}\isactrlbsub V\isactrlesub \ {\isacharparenleft}{\isasymominus}\isactrlbsub V\isactrlesub \ lincomb\ a\ {\isacharparenleft}A{\isacharminus}{\isacharbraceleft}v{\isacharbraceright}{\isacharparenright}{\isacharparenright}\ \isanewline
\ \ \ \ \ \ {\isacharequal}\ {\isacharparenleft}{\isasymominus}\isactrlbsub K\isactrlesub \ {\isacharparenleft}inv\isactrlbsub K\isactrlesub \ {\isacharparenleft}a\ v{\isacharparenright}{\isacharparenright}{\isacharparenright}\ {\isasymodot}\isactrlbsub V\isactrlesub \ lincomb\ a\ {\isacharparenleft}A{\isacharminus}{\isacharbraceleft}v{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ smult{\isacharunderscore}assoc{\isacharunderscore}simp\ smult{\isacharunderscore}minus{\isacharunderscore}{\isadigit{1}}{\isacharunderscore}back\ r{\isacharunderscore}minus{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{7}}\ {\isadigit{9}}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ h{\isadigit{1}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}A{\isacharminus}{\isacharbraceleft}v{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ assms\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isadigit{1}}\ {\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}{\isasymominus}\isactrlbsub K\isactrlesub \ {\isacharparenleft}inv\isactrlbsub K\isactrlesub \ {\isacharparenleft}a\ v{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isasymin}\ carrier\ K{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ assms\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}lincomb\ {\isacharparenleft}{\isasymlambda}w{\isachardot}\ {\isasymominus}\isactrlbsub K\isactrlesub {\isacharparenleft}inv\isactrlbsub K\isactrlesub \ {\isacharparenleft}a\ v{\isacharparenright}{\isacharparenright}\ {\isasymotimes}\isactrlbsub K\isactrlesub \ a\ w{\isacharparenright}\ {\isacharparenleft}A{\isacharminus}{\isacharbraceleft}v{\isacharbraceright}{\isacharparenright}\ {\isacharequal}\ \isanewline
\ \ \ \ {\isacharparenleft}{\isasymominus}\isactrlbsub K\isactrlesub \ {\isacharparenleft}inv\isactrlbsub K\isactrlesub \ {\isacharparenleft}a\ v{\isacharparenright}{\isacharparenright}{\isacharparenright}\ {\isasymodot}\isactrlbsub V\isactrlesub \ lincomb\ a\ {\isacharparenleft}A{\isacharminus}{\isacharbraceleft}v{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ lincomb{\isacharunderscore}smult{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{6}}\ {\isadigit{1}}{\isadigit{2}}\ \isacommand{show}\isamarkupfalse%
\ {\isadigit{1}}{\isadigit{3}}{\isacharcolon}\ {\isachardoublequoteopen}v{\isacharequal}lincomb\ {\isacharparenleft}{\isasymlambda}w{\isachardot}\ {\isasymominus}\isactrlbsub K\isactrlesub {\isacharparenleft}inv\isactrlbsub K\isactrlesub \ {\isacharparenleft}a\ v{\isacharparenright}{\isacharparenright}\ {\isasymotimes}\isactrlbsub K\isactrlesub \ a\ w{\isacharparenright}\ {\isacharparenleft}A{\isacharminus}{\isacharbraceleft}v{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{1}}{\isadigit{3}}\ assms\ \isacommand{show}\isamarkupfalse%
\ {\isadigit{1}}{\isadigit{4}}\ {\isacharcolon}\ {\isachardoublequoteopen}v{\isasymin}\ span\ {\isacharparenleft}A{\isacharminus}{\isacharbraceleft}v{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}unfold\ span{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ x{\isacharequal}{\isachardoublequoteopen}{\isacharparenleft}{\isasymlambda}w{\isachardot}\ {\isasymominus}\isactrlbsub K\isactrlesub {\isacharparenleft}inv\isactrlbsub K\isactrlesub \ {\isacharparenleft}a\ v{\isacharparenright}{\isacharparenright}\ {\isasymotimes}\isactrlbsub K\isactrlesub \ a\ w{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharparenright}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}drule\ Pi{\isacharunderscore}implies{\isacharunderscore}Pi{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ Pi{\isacharunderscore}simp\ ring{\isacharunderscore}subset{\isacharunderscore}carrier{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The map $(S\to K)\mapsto V$ given by $(a_v)_{v\in S}\mapsto \sum_{v\in S} a_v v$ is linear.%
\end{isamarkuptext}%
\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ vectorspace{\isacharparenright}\ lincomb{\isacharunderscore}is{\isacharunderscore}linear{\isacharcolon}\isanewline
\ \ \isakeyword{fixes}\ S\isanewline
\ \ \isakeyword{assumes}\ h{\isacharcolon}\ {\isachardoublequoteopen}finite\ S{\isachardoublequoteclose}\ \isakeyword{and}\ h{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}S{\isasymsubseteq}carrier\ V{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}linear{\isacharunderscore}map\ K\ {\isacharparenleft}func{\isacharunderscore}space\ S{\isacharparenright}\ V\ {\isacharparenleft}{\isasymlambda}a{\isachardot}\ lincomb\ a\ S{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}vectorspace\ K\ V{\isachardoublequoteclose}\isacommand{{\isachardot}{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ h\ h{\isadigit{2}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}mod{\isacharunderscore}hom\ K\ {\isacharparenleft}func{\isacharunderscore}space\ S{\isacharparenright}\ V\ {\isacharparenleft}{\isasymlambda}a{\isachardot}\ lincomb\ a\ S{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ lincomb{\isacharunderscore}is{\isacharunderscore}mod{\isacharunderscore}hom{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{0}}\ {\isadigit{1}}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold\ vectorspace{\isacharunderscore}def\ mod{\isacharunderscore}hom{\isacharunderscore}def\ linear{\isacharunderscore}map{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isamarkupsubsection{Basic facts about span and linear independence%
}
\isamarkuptrue%
%
\begin{isamarkuptext}%
If $S$ is linearly independent, then $v\in \text{span}S$ iff $S\cup \{v\}$ is linearly 
dependent.%
\end{isamarkuptext}%
\isamarkuptrue%
\isacommand{theorem}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ vectorspace{\isacharparenright}\ lin{\isacharunderscore}dep{\isacharunderscore}iff{\isacharunderscore}in{\isacharunderscore}span{\isacharcolon}\isanewline
\ \ \isakeyword{fixes}\ A\ v\ S\isanewline
\ \ \isakeyword{assumes}\ \ h{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}S\ {\isasymsubseteq}\ carrier\ V{\isachardoublequoteclose}\ \isakeyword{and}\ h{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}lin{\isacharunderscore}indpt\ S{\isachardoublequoteclose}\ \isakeyword{and}\ h{\isadigit{3}}{\isacharcolon}\ {\isachardoublequoteopen}v{\isasymin}\ carrier\ V{\isachardoublequoteclose}\ \isakeyword{and}\ h{\isadigit{4}}{\isacharcolon}\ {\isachardoublequoteopen}v{\isasymnotin}S{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}v{\isasymin}\ span\ S\ {\isasymlongleftrightarrow}\ lin{\isacharunderscore}dep\ {\isacharparenleft}S\ {\isasymunion}\ {\isacharbraceleft}v{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}T\ {\isacharequal}\ {\isachardoublequoteopen}S\ {\isasymunion}\ {\isacharbraceleft}v{\isacharbraceright}{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}v{\isasymin}{\isacharquery}T\ {\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ h{\isadigit{1}}\ h{\isadigit{3}}\ \isacommand{have}\isamarkupfalse%
\ h{\isadigit{1}}{\isacharunderscore}{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharquery}T\ {\isasymsubseteq}\ carrier\ V{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ a{\isadigit{1}}{\isacharcolon}{\isachardoublequoteopen}lin{\isacharunderscore}dep\ {\isacharquery}T\ {\isasymLongrightarrow}\ v{\isasymin}\ span\ S{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ a{\isadigit{1}}{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}lin{\isacharunderscore}dep\ {\isacharquery}T{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ a{\isadigit{1}}{\isadigit{1}}\ \isacommand{obtain}\isamarkupfalse%
\ a\ w\ A\ \isakeyword{where}\ a{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}finite\ A\ {\isasymand}\ A{\isasymsubseteq}{\isacharquery}T\ {\isasymand}\ {\isacharparenleft}a{\isasymin}\ {\isacharparenleft}A{\isasymrightarrow}carrier\ K{\isacharparenright}{\isacharparenright}\ {\isasymand}\ {\isacharparenleft}lincomb\ a\ A\ {\isacharequal}\ {\isasymzero}\isactrlbsub V\isactrlesub {\isacharparenright}\ {\isasymand}\ {\isacharparenleft}w{\isasymin}A{\isacharparenright}\ {\isasymand}\ {\isacharparenleft}a\ w{\isasymnoteq}\ {\isasymzero}\isactrlbsub K\isactrlesub {\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ lin{\isacharunderscore}dep{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ assms\ a\ \isacommand{have}\isamarkupfalse%
\ nz{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymexists}v{\isasymin}A{\isacharminus}S{\isachardot}\ a\ v{\isasymnoteq}{\isasymzero}\isactrlbsub K\isactrlesub {\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ lincomb{\isacharunderscore}must{\isacharunderscore}include{\isacharbrackleft}\isakeyword{where}\ {\isacharquery}v{\isacharequal}{\isachardoublequoteopen}w{\isachardoublequoteclose}\ \isakeyword{and}\ {\isacharquery}T{\isacharequal}{\isachardoublequoteopen}S{\isasymunion}{\isacharbraceleft}v{\isacharbraceright}{\isachardoublequoteclose}{\isacharbrackright}{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ a\ nz{\isadigit{2}}\ \isacommand{have}\isamarkupfalse%
\ singleton{\isacharcolon}\ {\isachardoublequoteopen}{\isacharbraceleft}v{\isacharbraceright}{\isacharequal}A{\isacharminus}S{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ singleton\ nz{\isadigit{2}}\ \isacommand{have}\isamarkupfalse%
\ nz{\isadigit{3}}{\isacharcolon}\ {\isachardoublequoteopen}a\ v{\isasymnoteq}{\isasymzero}\isactrlbsub K\isactrlesub {\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}b{\isacharequal}{\isachardoublequoteopen}{\isacharparenleft}{\isasymlambda}w{\isachardot}\ {\isasymominus}\isactrlbsub K\isactrlesub \ {\isacharparenleft}inv\isactrlbsub K\isactrlesub \ {\isacharparenleft}a\ v{\isacharparenright}{\isacharparenright}\ {\isasymotimes}\isactrlbsub K\isactrlesub \ {\isacharparenleft}a\ w{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ singleton\ \isacommand{have}\isamarkupfalse%
\ Ains{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}A{\isasyminter}S{\isacharparenright}\ {\isacharequal}\ A{\isacharminus}{\isacharbraceleft}v{\isacharbraceright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ assms\ a\ singleton\ nz{\isadigit{3}}\ \isacommand{have}\isamarkupfalse%
\ a{\isadigit{3}}{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}v{\isacharequal}\ lincomb\ {\isacharquery}b\ {\isacharparenleft}A{\isasyminter}S{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}subst\ Ains{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ lincomb{\isacharunderscore}isolate{\isacharparenleft}{\isadigit{1}}{\isacharparenright}{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ a\ a{\isadigit{3}}{\isadigit{1}}\ nz{\isadigit{3}}\ singleton\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}unfold\ span{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ x{\isacharequal}{\isachardoublequoteopen}{\isacharquery}b{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ x{\isacharequal}{\isachardoublequoteopen}A{\isasyminter}S{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharbang}{\isacharcolon}\ m{\isacharunderscore}closed{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ a{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}v{\isasymin}\ {\isacharparenleft}span\ S{\isacharparenright}\ {\isasymLongrightarrow}\ lin{\isacharunderscore}dep\ {\isacharquery}T{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ inspan{\isacharcolon}\ {\isachardoublequoteopen}v{\isasymin}\ {\isacharparenleft}span\ S{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ inspan\ \isacommand{obtain}\isamarkupfalse%
\ a\ A\ \isakeyword{where}\ a{\isacharcolon}\ {\isachardoublequoteopen}A{\isasymsubseteq}S\ {\isasymand}\ finite\ A\ {\isasymand}\ {\isacharparenleft}v\ {\isacharequal}\ lincomb\ a\ A{\isacharparenright}{\isasymand}\ a{\isasymin}A{\isasymrightarrow}carrier\ K{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ span{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}b\ {\isacharequal}\ {\isachardoublequoteopen}{\isasymlambda}\ w{\isachardot}\ if\ {\isacharparenleft}w{\isacharequal}v{\isacharparenright}\ then\ {\isacharparenleft}{\isasymominus}\isactrlbsub K\isactrlesub \ {\isasymone}\isactrlbsub K\isactrlesub {\isacharparenright}\ else\ a\ w{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ lc{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}\ lincomb\ {\isacharquery}b\ {\isacharparenleft}A{\isasymunion}{\isacharbraceleft}v{\isacharbraceright}{\isacharparenright}{\isacharequal}{\isasymzero}\isactrlbsub V\isactrlesub {\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\ \isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ assms\ a\ \isacommand{have}\isamarkupfalse%
\ lc{\isacharunderscore}ins{\isacharcolon}\ {\isachardoublequoteopen}lincomb\ {\isacharquery}b\ {\isacharparenleft}A{\isasymunion}{\isacharbraceleft}v{\isacharbraceright}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}{\isacharparenleft}{\isacharquery}b\ v{\isacharparenright}\ {\isasymodot}\isactrlbsub V\isactrlesub \ v{\isacharparenright}\ {\isasymoplus}\isactrlbsub V\isactrlesub \ lincomb\ {\isacharquery}b\ A{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ lincomb{\isacharunderscore}insert{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ assms\ a\ \isacommand{have}\isamarkupfalse%
\ lc{\isacharunderscore}elim{\isacharcolon}\ {\isachardoublequoteopen}lincomb\ {\isacharquery}b\ A{\isacharequal}lincomb\ a\ A{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ lincomb{\isacharunderscore}elim{\isacharunderscore}if{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ assms\ lc{\isacharunderscore}ins\ lc{\isacharunderscore}elim\ a\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ M{\isachardot}l{\isacharunderscore}neg\ smult{\isacharunderscore}minus{\isacharunderscore}{\isadigit{1}}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ \ a\ lc{\isadigit{0}}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}unfold\ lin{\isacharunderscore}dep{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ x{\isacharequal}{\isachardoublequoteopen}A{\isasymunion}{\isacharbraceleft}v{\isacharbraceright}{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ x{\isacharequal}{\isachardoublequoteopen}{\isacharquery}b{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ x{\isacharequal}{\isachardoublequoteopen}v{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ a{\isadigit{1}}\ a{\isadigit{2}}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
If $v\in \text{span} A$ then $\text{span}A =\text{span}(A\cup \{v\})$%
\end{isamarkuptext}%
\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ vectorspace{\isacharparenright}\ already{\isacharunderscore}in{\isacharunderscore}span{\isacharcolon}\isanewline
\ \ \isakeyword{fixes}\ v\ A\isanewline
\ \ \isakeyword{assumes}\ \ inC{\isacharcolon}\ {\isachardoublequoteopen}A{\isasymsubseteq}carrier\ V{\isachardoublequoteclose}\ \isakeyword{and}\ inspan{\isacharcolon}\ {\isachardoublequoteopen}v{\isasymin}span\ A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}span\ A{\isacharequal}\ span\ {\isacharparenleft}A{\isasymunion}{\isacharbraceleft}v{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\ \isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ inC\ inspan\ \isacommand{have}\isamarkupfalse%
\ dir{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}span\ A\ {\isasymsubseteq}\ span\ {\isacharparenleft}A{\isasymunion}{\isacharbraceleft}v{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ span{\isacharunderscore}is{\isacharunderscore}monotone{\isacharcomma}\ auto{\isacharparenright}\isanewline
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ inC\ \isacommand{have}\isamarkupfalse%
\ inown{\isacharcolon}\ {\isachardoublequoteopen}A{\isasymsubseteq}span\ A{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ in{\isacharunderscore}own{\isacharunderscore}span{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ inC\ \isacommand{have}\isamarkupfalse%
\ subm{\isacharcolon}\ {\isachardoublequoteopen}submodule\ K\ {\isacharparenleft}span\ A{\isacharparenright}\ V{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ span{\isacharunderscore}is{\isacharunderscore}submodule{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ inown\ inspan\ subm\ \isacommand{have}\isamarkupfalse%
\ dir{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}span\ {\isacharparenleft}A\ {\isasymunion}\ {\isacharbraceleft}v{\isacharbraceright}{\isacharparenright}\ {\isasymsubseteq}\ span\ A{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ span{\isacharunderscore}is{\isacharunderscore}subset{\isacharcomma}\ auto{\isacharparenright}\ \isanewline
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ dir{\isadigit{1}}\ dir{\isadigit{2}}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isamarkupsubsection{The Replacement Theorem%
}
\isamarkuptrue%
%
\begin{isamarkuptext}%
If $A,B\subseteq V$ are finite, $A$ is linearly independent, $B$ generates $W$, 
and $A\subseteq W$, then there exists $C\subseteq V$ disjoint from $A$ such that
$\text{span}(A\cup C) = W$ and $|C|\le |B|-|A|$. In other words, we can complete
any linearly independent set to a generating set of $W$ by adding at most $|B|-|A|$ more elements.%
\end{isamarkuptext}%
\isamarkuptrue%
\isacommand{theorem}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ vectorspace{\isacharparenright}\ replacement{\isacharcolon}\isanewline
\ \ \isakeyword{fixes}\ A\ B\ \ \isanewline
\ \ \isakeyword{assumes}\ h{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ h{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}finite\ B{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ h{\isadigit{3}}{\isacharcolon}\ {\isachardoublequoteopen}B{\isasymsubseteq}carrier\ V{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ h{\isadigit{4}}{\isacharcolon}\ {\isachardoublequoteopen}lin{\isacharunderscore}indpt\ A{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isakeyword{and}\ h{\isadigit{5}}{\isacharcolon}\ {\isachardoublequoteopen}A{\isasymsubseteq}span\ B{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}C{\isachardot}\ finite\ C\ {\isasymand}\ C{\isasymsubseteq}carrier\ V\ {\isasymand}\ C{\isasymsubseteq}span\ B\ {\isasymand}\ C{\isasyminter}A{\isacharequal}{\isacharbraceleft}{\isacharbraceright}\ {\isasymand}\ int\ {\isacharparenleft}card\ C{\isacharparenright}\ {\isasymle}\ {\isacharparenleft}int\ {\isacharparenleft}card\ B{\isacharparenright}{\isacharparenright}\ {\isacharminus}\ {\isacharparenleft}int\ {\isacharparenleft}card\ A{\isacharparenright}{\isacharparenright}\ {\isasymand}\ {\isacharparenleft}span\ {\isacharparenleft}A\ {\isasymunion}\ C{\isacharparenright}\ {\isacharequal}\ span\ B{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ {\isacharparenleft}\isakeyword{is}\ {\isachardoublequoteopen}{\isasymexists}C{\isachardot}\ {\isacharquery}P\ A\ B\ C{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ h{\isadigit{1}}\ h{\isadigit{2}}\ h{\isadigit{3}}\ h{\isadigit{4}}\ h{\isadigit{5}}\ \isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ {\isachardoublequoteopen}card\ A{\isachardoublequoteclose}\ arbitrary{\isacharcolon}\ A\ B{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{0}}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{0}}{\isachardot}prems{\isachardoublequoteclose}{\isacharparenleft}{\isadigit{1}}{\isacharparenright}\ {\isachardoublequoteopen}{\isadigit{0}}{\isachardot}hyps{\isachardoublequoteclose}\ \isacommand{have}\isamarkupfalse%
\ a{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}A{\isacharequal}{\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{0}}{\isachardot}prems{\isachardoublequoteclose}{\isacharparenleft}{\isadigit{3}}{\isacharparenright}\ \isacommand{have}\isamarkupfalse%
\ a{\isadigit{3}}{\isacharcolon}\ {\isachardoublequoteopen}B{\isasymsubseteq}span\ B{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ in{\isacharunderscore}own{\isacharunderscore}span{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ a{\isadigit{0}}\ a{\isadigit{3}}\ {\isachardoublequoteopen}{\isadigit{0}}{\isachardot}prems{\isachardoublequoteclose}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ x{\isacharequal}{\isachardoublequoteopen}B{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharcomma}\ auto{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Suc\ m{\isacharparenright}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}W{\isacharequal}{\isachardoublequoteopen}span\ B{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ Suc{\isachardot}prems{\isacharparenleft}{\isadigit{3}}{\isacharparenright}\ \isacommand{have}\isamarkupfalse%
\ BinC{\isacharcolon}\ {\isachardoublequoteopen}span\ B{\isasymsubseteq}carrier\ V{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ span{\isacharunderscore}is{\isacharunderscore}subset{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ Suc{\isachardot}prems\ Suc{\isachardot}hyps\ BinC\ \isacommand{have}\isamarkupfalse%
\ A{\isacharcolon}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\ {\isachardoublequoteopen}lin{\isacharunderscore}indpt\ A{\isachardoublequoteclose}\ {\isachardoublequoteopen}A{\isasymsubseteq}span\ B{\isachardoublequoteclose}\ {\isachardoublequoteopen}Suc\ m\ {\isacharequal}\ card\ A{\isachardoublequoteclose}\ {\isachardoublequoteopen}A{\isasymsubseteq}carrier\ V{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ Suc{\isachardot}prems\ \isacommand{have}\isamarkupfalse%
\ B{\isacharcolon}\ {\isachardoublequoteopen}finite\ B{\isachardoublequoteclose}\ {\isachardoublequoteopen}B{\isasymsubseteq}carrier\ V{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ Suc{\isachardot}hyps{\isacharparenleft}{\isadigit{2}}{\isacharparenright}\ \isacommand{obtain}\isamarkupfalse%
\ v\ \isakeyword{where}\ v{\isacharcolon}\ {\isachardoublequoteopen}v{\isasymin}A{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}A{\isacharprime}{\isacharequal}{\isachardoublequoteopen}A{\isacharminus}{\isacharbraceleft}v{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ A{\isacharparenleft}{\isadigit{2}}{\isacharparenright}\ \isacommand{have}\isamarkupfalse%
\ liA{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}lin{\isacharunderscore}indpt\ {\isacharquery}A{\isacharprime}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}intro\ subset{\isacharunderscore}li{\isacharunderscore}is{\isacharunderscore}li{\isacharbrackleft}of\ {\isachardoublequoteopen}A{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isacharquery}A{\isacharprime}{\isachardoublequoteclose}{\isacharbrackright}{\isacharparenright}\ \isanewline
\ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ v\ liA{\isacharprime}\ Suc{\isachardot}prems\ Suc{\isachardot}hyps{\isacharparenleft}{\isadigit{2}}{\isacharparenright}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}C{\isacharprime}{\isachardot}\ {\isacharquery}P\ {\isacharquery}A{\isacharprime}\ B\ C{\isacharprime}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}intro\ Suc{\isachardot}hyps{\isacharparenleft}{\isadigit{1}}{\isacharparenright}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ this\ \isacommand{obtain}\isamarkupfalse%
\ C{\isacharprime}\ \isakeyword{where}\ C{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharquery}P\ {\isacharquery}A{\isacharprime}\ B\ C{\isacharprime}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ {\isachardoublequoteopen}v{\isasymin}\ C{\isacharprime}{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ vinC{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}v{\isasymin}C{\isacharprime}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ vinC{\isacharprime}\ v\ \isacommand{have}\isamarkupfalse%
\ seteq{\isacharcolon}\ {\isachardoublequoteopen}A\ {\isacharminus}\ {\isacharbraceleft}v{\isacharbraceright}\ {\isasymunion}\ C{\isacharprime}\ {\isacharequal}\ A\ {\isasymunion}\ {\isacharparenleft}C{\isacharprime}\ {\isacharminus}\ {\isacharbraceleft}v{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ C{\isacharprime}\ seteq\ \isacommand{have}\isamarkupfalse%
\ spaneq{\isacharcolon}\ {\isachardoublequoteopen}span\ {\isacharparenleft}A\ {\isasymunion}\ {\isacharparenleft}C{\isacharprime}\ {\isacharminus}\ {\isacharbraceleft}v{\isacharbraceright}{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ span\ {\isacharparenleft}B{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ algebra\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ Suc{\isachardot}prems\ Suc{\isachardot}hyps\ C{\isacharprime}\ vinC{\isacharprime}\ v\ spaneq\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ x{\isacharequal}{\isachardoublequoteopen}C{\isacharprime}{\isacharminus}{\isacharbraceleft}v{\isacharbraceright}{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}subgoal{\isacharunderscore}tac\ {\isachardoublequoteopen}card\ C{\isacharprime}\ {\isachargreater}{\isadigit{0}}{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\ \isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ f{\isacharcolon}\ {\isachardoublequoteopen}v{\isasymnotin}C{\isacharprime}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ A\ v\ C{\isacharprime}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}a{\isachardot}\ a{\isasymin}{\isacharparenleft}{\isacharquery}A{\isacharprime}{\isasymunion}C{\isacharprime}{\isacharparenright}{\isasymrightarrow}carrier\ K\ {\isasymand}\ \ lincomb\ a\ {\isacharparenleft}{\isacharquery}A{\isacharprime}\ {\isasymunion}\ C{\isacharprime}{\isacharparenright}\ {\isacharequal}v{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ finite{\isacharunderscore}in{\isacharunderscore}span{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ this\ \isacommand{obtain}\isamarkupfalse%
\ a\ \isakeyword{where}\ a{\isacharcolon}\ {\isachardoublequoteopen}a{\isasymin}{\isacharparenleft}{\isacharquery}A{\isacharprime}{\isasymunion}C{\isacharprime}{\isacharparenright}{\isasymrightarrow}carrier\ K\ {\isasymand}\ v{\isacharequal}\ lincomb\ a\ {\isacharparenleft}{\isacharquery}A{\isacharprime}\ {\isasymunion}\ C{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}b{\isacharequal}{\isachardoublequoteopen}{\isacharparenleft}{\isasymlambda}\ w{\isachardot}\ if\ {\isacharparenleft}w{\isacharequal}v{\isacharparenright}\ then\ {\isasymominus}\isactrlbsub K\isactrlesub {\isasymone}\isactrlbsub K\isactrlesub \ else\ a\ w{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ a\ \isacommand{have}\isamarkupfalse%
\ b{\isacharcolon}\ {\isachardoublequoteopen}{\isacharquery}b{\isasymin}A{\isasymunion}C{\isacharprime}{\isasymrightarrow}carrier\ K{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ v\ \isacommand{have}\isamarkupfalse%
\ rewrite{\isacharunderscore}ins{\isacharcolon}\ {\isachardoublequoteopen}A{\isasymunion}C{\isacharprime}{\isacharequal}{\isacharparenleft}{\isacharquery}A{\isacharprime}{\isasymunion}C{\isacharprime}{\isacharparenright}{\isasymunion}{\isacharbraceleft}v{\isacharbraceright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ f\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}v{\isasymnotin}{\isacharquery}A{\isacharprime}{\isasymunion}C{\isacharprime}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ this\ A\ C{\isacharprime}\ v\ a\ f\ \isacommand{have}\isamarkupfalse%
\ lcb{\isacharcolon}\ {\isachardoublequoteopen}lincomb\ {\isacharquery}b\ {\isacharparenleft}A\ {\isasymunion}\ C{\isacharprime}{\isacharparenright}\ {\isacharequal}\ {\isasymzero}\isactrlbsub V\isactrlesub {\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}subst\ rewrite{\isacharunderscore}ins{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}subst\ lincomb{\isacharunderscore}insert{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp{\isacharunderscore}all\ add{\isacharcolon}\ ring{\isacharunderscore}subset{\isacharunderscore}carrier\ coeff{\isacharunderscore}in{\isacharunderscore}ring{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}auto\ split{\isacharcolon}\ split{\isacharunderscore}if{\isacharunderscore}asm{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}subst\ lincomb{\isacharunderscore}elim{\isacharunderscore}if{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ smult{\isacharunderscore}minus{\isacharunderscore}{\isadigit{1}}\ l{\isacharunderscore}neg\ ring{\isacharunderscore}subset{\isacharunderscore}carrier{\isacharparenright}\isanewline
\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ C{\isacharprime}\ f\ \isacommand{have}\isamarkupfalse%
\ rewrite{\isacharunderscore}minus{\isacharcolon}\ {\isachardoublequoteopen}C{\isacharprime}{\isacharequal}{\isacharparenleft}A{\isasymunion}C{\isacharprime}{\isacharparenright}{\isacharminus}A{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ A\ C{\isacharprime}\ b\ lcb\ v\ \isacommand{have}\isamarkupfalse%
\ exw{\isacharcolon}\ {\isachardoublequoteopen}{\isasymexists}w{\isasymin}\ C{\isacharprime}{\isachardot}\ {\isacharquery}b\ w{\isasymnoteq}{\isasymzero}\isactrlbsub K\isactrlesub {\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}subst\ rewrite{\isacharunderscore}minus{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}intro\ lincomb{\isacharunderscore}must{\isacharunderscore}include{\isacharbrackleft}\isakeyword{where}\ {\isacharquery}T{\isacharequal}{\isachardoublequoteopen}A{\isasymunion}C{\isacharprime}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isacharquery}v{\isacharequal}{\isachardoublequoteopen}v{\isachardoublequoteclose}{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ exw\ \isacommand{obtain}\isamarkupfalse%
\ w\ \isakeyword{where}\ w{\isacharcolon}\ {\isachardoublequoteopen}w{\isasymin}\ C{\isacharprime}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isacharquery}b\ w{\isasymnoteq}{\isasymzero}\isactrlbsub K\isactrlesub {\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ A\ C{\isacharprime}\ w\ f\ b\ lcb\ \isacommand{have}\isamarkupfalse%
\ w{\isacharunderscore}in{\isacharcolon}\ {\isachardoublequoteopen}w{\isasymin}span\ {\isacharparenleft}{\isacharparenleft}A{\isasymunion}\ C{\isacharprime}{\isacharparenright}\ {\isacharminus}{\isacharbraceleft}w{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}intro\ lincomb{\isacharunderscore}isolate{\isacharbrackleft}\isakeyword{where}\ a{\isacharequal}{\isachardoublequoteopen}{\isacharquery}b{\isachardoublequoteclose}{\isacharbrackright}{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ spaneq{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}span\ {\isacharparenleft}A{\isasymunion}{\isacharparenleft}C{\isacharprime}{\isacharminus}{\isacharbraceleft}w{\isacharbraceright}{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ span\ B{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\ \isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}span\ {\isacharparenleft}{\isacharquery}A{\isacharprime}{\isasymunion}C{\isacharprime}{\isacharparenright}\ {\isacharequal}\ span\ {\isacharparenleft}A{\isasymunion}\ C{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ A\ C{\isacharprime}\ v\ \isacommand{have}\isamarkupfalse%
\ m{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}span\ {\isacharparenleft}{\isacharquery}A{\isacharprime}{\isasymunion}C{\isacharprime}{\isacharparenright}\ {\isacharequal}\ span\ {\isacharparenleft}{\isacharparenleft}{\isacharquery}A{\isacharprime}{\isasymunion}\ C{\isacharprime}{\isacharparenright}{\isasymunion}{\isacharbraceleft}v{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}intro\ already{\isacharunderscore}in{\isacharunderscore}span{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ f\ m{\isadigit{1}}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ rewrite{\isacharunderscore}ins{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}span\ {\isacharparenleft}A{\isasymunion}\ {\isacharparenleft}C{\isacharprime}{\isacharminus}{\isacharbraceleft}w{\isacharbraceright}{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ span\ {\isacharparenleft}A{\isasymunion}\ C{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ C{\isacharprime}\ w{\isacharparenleft}{\isadigit{1}}{\isacharparenright}\ f\ \isacommand{have}\isamarkupfalse%
\ b{\isadigit{6}}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}A{\isasymunion}\ {\isacharparenleft}C{\isacharprime}{\isacharminus}{\isacharbraceleft}w{\isacharbraceright}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}A{\isasymunion}\ C{\isacharprime}{\isacharparenright}\ {\isacharminus}{\isacharbraceleft}w{\isacharbraceright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ \ w{\isacharparenleft}{\isadigit{1}}{\isacharparenright}\ \isacommand{have}\isamarkupfalse%
\ b{\isadigit{6}}{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}A{\isasymunion}\ C{\isacharprime}{\isacharequal}\ {\isacharparenleft}A{\isasymunion}\ C{\isacharprime}\ {\isacharminus}{\isacharbraceleft}w{\isacharbraceright}{\isacharparenright}{\isasymunion}{\isacharbraceleft}w{\isacharbraceright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ A\ C{\isacharprime}\ \ w{\isacharunderscore}in\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}subst\ b{\isadigit{6}}{\isadigit{1}}{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}subst\ b{\isadigit{6}}{\isadigit{0}}{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}intro\ already{\isacharunderscore}in{\isacharunderscore}span{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ C{\isacharprime}\ {\isadigit{1}}\ {\isadigit{2}}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ A\ C{\isacharprime}\ w\ f\ v\ spaneq{\isadigit{2}}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ x{\isacharequal}{\isachardoublequoteopen}C{\isacharprime}{\isacharminus}{\isacharbraceleft}w{\isacharbraceright}{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}subgoal{\isacharunderscore}tac\ {\isachardoublequoteopen}card\ C{\isacharprime}\ {\isachargreater}{\isadigit{0}}{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isamarkupsubsection{Defining dimension and bases.%
}
\isamarkuptrue%
%
\begin{isamarkuptext}%
Finite dimensional is defined as having a finite generating set.%
\end{isamarkuptext}%
\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ vectorspace{\isacharparenright}\ fin{\isacharunderscore}dim{\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}bool{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{where}\ {\isachardoublequoteopen}fin{\isacharunderscore}dim\ {\isacharequal}\ {\isacharparenleft}{\isasymexists}\ A{\isachardot}\ {\isacharparenleft}{\isacharparenleft}finite\ A{\isacharparenright}\ {\isasymand}\ {\isacharparenleft}A\ {\isasymsubseteq}\ carrier\ V{\isacharparenright}\ {\isasymand}\ {\isacharparenleft}gen{\isacharunderscore}set\ A{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}%
\begin{isamarkuptext}%
The dimension is the size of the smallest generating set. For equivalent
characterizations see below.%
\end{isamarkuptext}%
\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ vectorspace{\isacharparenright}\ dim{\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}nat{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{where}\ {\isachardoublequoteopen}dim\ {\isacharequal}\ {\isacharparenleft}LEAST\ n{\isachardot}\ {\isacharparenleft}{\isasymexists}\ A{\isachardot}\ {\isacharparenleft}{\isacharparenleft}finite\ A{\isacharparenright}\ {\isasymand}\ {\isacharparenleft}card\ A\ {\isacharequal}\ n{\isacharparenright}\ {\isasymand}\ {\isacharparenleft}A\ {\isasymsubseteq}\ carrier\ V{\isacharparenright}\ {\isasymand}\ {\isacharparenleft}gen{\isacharunderscore}set\ A{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}%
\begin{isamarkuptext}%
A \isa{basis} is a linearly independent generating set.%
\end{isamarkuptext}%
\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ vectorspace{\isacharparenright}\ basis{\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}c\ set\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{where}\ {\isachardoublequoteopen}basis\ A\ {\isacharequal}\ {\isacharparenleft}{\isacharparenleft}lin{\isacharunderscore}indpt\ A{\isacharparenright}\ {\isasymand}\ {\isacharparenleft}gen{\isacharunderscore}set\ A{\isacharparenright}{\isasymand}\ {\isacharparenleft}A{\isasymsubseteq}carrier\ V{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}%
\begin{isamarkuptext}%
From the replacement theorem, any linearly independent set is smaller than any generating set.%
\end{isamarkuptext}%
\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ vectorspace{\isacharparenright}\ li{\isacharunderscore}smaller{\isacharunderscore}than{\isacharunderscore}gen{\isacharcolon}\isanewline
\ \ \isakeyword{fixes}\ A\ B\isanewline
\ \ \isakeyword{assumes}\ h{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\ \isakeyword{and}\ h{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}finite\ B{\isachardoublequoteclose}\ \isakeyword{and}\ h{\isadigit{3}}{\isacharcolon}\ {\isachardoublequoteopen}A{\isasymsubseteq}carrier\ V{\isachardoublequoteclose}\ \isakeyword{and}\ h{\isadigit{4}}{\isacharcolon}\ {\isachardoublequoteopen}B{\isasymsubseteq}carrier\ V{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isakeyword{and}\ h{\isadigit{5}}{\isacharcolon}\ {\isachardoublequoteopen}lin{\isacharunderscore}indpt\ A{\isachardoublequoteclose}\ \isakeyword{and}\ h{\isadigit{6}}{\isacharcolon}\ {\isachardoublequoteopen}gen{\isacharunderscore}set\ B{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}card\ A\ {\isasymle}\ card\ B{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\ \isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ h{\isadigit{3}}\ h{\isadigit{6}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}A{\isasymsubseteq}span\ B{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ \ auto\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ h{\isadigit{1}}\ h{\isadigit{2}}\ h{\isadigit{4}}\ h{\isadigit{5}}\ {\isadigit{1}}\ \isacommand{obtain}\isamarkupfalse%
\ C\ \isakeyword{where}\ \isanewline
\ \ \ \ {\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}finite\ C\ {\isasymand}\ C{\isasymsubseteq}carrier\ V\ {\isasymand}\ C{\isasymsubseteq}span\ B\ {\isasymand}\ C{\isasyminter}A{\isacharequal}{\isacharbraceleft}{\isacharbraceright}\ {\isasymand}\ int\ {\isacharparenleft}card\ C{\isacharparenright}\ {\isasymle}\ int\ {\isacharparenleft}card\ B{\isacharparenright}\ {\isacharminus}\ int\ {\isacharparenleft}card\ A{\isacharparenright}\ {\isasymand}\ {\isacharparenleft}span\ {\isacharparenleft}A\ {\isasymunion}\ C{\isacharparenright}\ {\isacharequal}\ span\ B{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ replacement{\isacharparenright}\ \isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{2}}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ arith\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The dimension is the cardinality of any basis. (In particular, all bases are the same size.)%
\end{isamarkuptext}%
\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ vectorspace{\isacharparenright}\ dim{\isacharunderscore}basis{\isacharcolon}\isanewline
\ \ \isakeyword{fixes}\ A\ \isanewline
\ \ \isakeyword{assumes}\ \ fin{\isacharcolon}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\ \isakeyword{and}\ h{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}basis\ A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}dim\ {\isacharequal}\ card\ A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}B\ m{\isachardot}\ {\isacharparenleft}{\isacharparenleft}finite\ B{\isacharparenright}\ {\isasymand}\ {\isacharparenleft}card\ B\ {\isacharequal}\ m{\isacharparenright}\ {\isasymand}\ {\isacharparenleft}B\ {\isasymsubseteq}\ carrier\ V{\isacharparenright}\ {\isasymand}\ {\isacharparenleft}gen{\isacharunderscore}set\ B{\isacharparenright}{\isacharparenright}\ {\isasymLongrightarrow}\ card\ A\ {\isasymle}\ m{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\ \isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ B\ m\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}{\isacharparenleft}finite\ B{\isacharparenright}\ {\isasymand}\ {\isacharparenleft}card\ B\ {\isacharequal}\ m{\isacharparenright}\ {\isasymand}\ {\isacharparenleft}B\ {\isasymsubseteq}\ carrier\ V{\isacharparenright}\ {\isasymand}\ {\isacharparenleft}gen{\isacharunderscore}set\ B{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{1}}\ fin\ h{\isadigit{2}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}card\ A\ {\isasymle}\ card\ B{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}unfold\ basis{\isacharunderscore}def{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}intro\ li{\isacharunderscore}smaller{\isacharunderscore}than{\isacharunderscore}gen{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{1}}\ {\isadigit{2}}\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}thesis\ B\ m{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ fin\ h{\isadigit{2}}\ {\isadigit{0}}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}unfold\ dim{\isacharunderscore}def\ basis{\isacharunderscore}def{\isacharparenright}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}intro\ Least{\isacharunderscore}equality{\isacharparenright}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ x{\isacharequal}{\isachardoublequoteopen}A{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharparenright}\isanewline
\ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
A \isa{maximal} set with respect to $P$ is such that if $B\supseteq A$ and $P$ is also 
satisfied for $B$, then $B=A$.%
\end{isamarkuptext}%
\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ maximal{\isacharcolon}{\isacharcolon}{\isachardoublequoteopen}{\isacharprime}a\ set\ {\isasymRightarrow}\ {\isacharparenleft}{\isacharprime}a\ set\ {\isasymRightarrow}\ bool{\isacharparenright}\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{where}\ {\isachardoublequoteopen}maximal\ A\ P\ {\isacharequal}\ {\isacharparenleft}{\isacharparenleft}P\ A{\isacharparenright}\ {\isasymand}\ {\isacharparenleft}{\isasymforall}B{\isachardot}\ B{\isasymsupseteq}A\ {\isasymand}\ P\ B\ {\isasymlongrightarrow}\ B\ {\isacharequal}\ A{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}%
\begin{isamarkuptext}%
A \isa{minimal} set with respect to $P$ is such that if $B\subseteq A$ and $P$ is also 
satisfied for $B$, then $B=A$.%
\end{isamarkuptext}%
\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ minimal{\isacharcolon}{\isacharcolon}{\isachardoublequoteopen}{\isacharprime}a\ set\ {\isasymRightarrow}\ {\isacharparenleft}{\isacharprime}a\ set\ {\isasymRightarrow}\ bool{\isacharparenright}\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{where}\ {\isachardoublequoteopen}minimal\ A\ P\ {\isacharequal}\ {\isacharparenleft}{\isacharparenleft}P\ A{\isacharparenright}\ {\isasymand}\ {\isacharparenleft}{\isasymforall}B{\isachardot}\ B{\isasymsubseteq}A\ {\isasymand}\ P\ B\ {\isasymlongrightarrow}\ B\ {\isacharequal}\ A{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}%
\begin{isamarkuptext}%
A maximal linearly independent set is a generating set.%
\end{isamarkuptext}%
\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ vectorspace{\isacharparenright}\ max{\isacharunderscore}li{\isacharunderscore}is{\isacharunderscore}gen{\isacharcolon}\isanewline
\ \ \isakeyword{fixes}\ A\isanewline
\ \ \isakeyword{assumes}\ h{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}maximal\ A\ {\isacharparenleft}{\isasymlambda}S{\isachardot}\ S{\isasymsubseteq}carrier\ V\ {\isasymand}\ lin{\isacharunderscore}indpt\ S{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}gen{\isacharunderscore}set\ A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ ccontr{\isacharparenright}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymnot}{\isacharparenleft}gen{\isacharunderscore}set\ A{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ h{\isadigit{1}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}\ A{\isasymsubseteq}\ carrier\ V\ {\isasymand}\ lin{\isacharunderscore}indpt\ A{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold\ maximal{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{1}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}span\ A\ {\isasymsubseteq}\ carrier\ V{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ span{\isacharunderscore}is{\isacharunderscore}subset{\isadigit{2}}{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{0}}\ {\isadigit{1}}\ {\isadigit{2}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{3}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymexists}v{\isachardot}\ v{\isasymin}carrier\ V\ {\isasymand}\ v\ {\isasymnotin}\ {\isacharparenleft}span\ A{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{3}}\ \isacommand{obtain}\isamarkupfalse%
\ v\ \isakeyword{where}\ {\isadigit{4}}{\isacharcolon}\ {\isachardoublequoteopen}v{\isasymin}carrier\ V\ {\isasymand}\ v\ {\isasymnotin}\ {\isacharparenleft}span\ A{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{5}}{\isacharcolon}\ {\isachardoublequoteopen}v{\isasymnotin}A{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ h{\isadigit{1}}\ {\isadigit{1}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{5}}{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}A{\isasymsubseteq}span\ A{\isachardoublequoteclose}\ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}intro\ in{\isacharunderscore}own{\isacharunderscore}span{\isacharparenright}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{4}}\ {\isadigit{5}}{\isadigit{1}}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ lin{\isacharunderscore}dep{\isacharunderscore}iff{\isacharunderscore}in{\isacharunderscore}span\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{6}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}S\ v{\isachardot}\ S\ {\isasymsubseteq}\ carrier\ V{\isasymand}\ lin{\isacharunderscore}indpt\ S\ {\isasymand}\ v{\isasymin}\ carrier\ V\ {\isasymand}\ v{\isasymnotin}S\isanewline
\ \ \ \ {\isasymand}\ v{\isasymnotin}\ span\ S\ {\isasymLongrightarrow}\ \ {\isacharparenleft}lin{\isacharunderscore}indpt\ {\isacharparenleft}S\ {\isasymunion}\ {\isacharbraceleft}v{\isacharbraceright}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{1}}\ {\isadigit{4}}\ {\isadigit{5}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{7}}{\isacharcolon}\ {\isachardoublequoteopen}lin{\isacharunderscore}indpt\ {\isacharparenleft}A\ {\isasymunion}\ {\isacharbraceleft}v{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}intro\ {\isadigit{6}}{\isacharparenright}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{9}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymnot}{\isacharparenleft}maximal\ A\ {\isacharparenleft}{\isasymlambda}S{\isachardot}\ S{\isasymsubseteq}carrier\ V\ {\isasymand}\ lin{\isacharunderscore}indpt\ S{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{1}}\ {\isadigit{4}}\ {\isadigit{5}}\ {\isadigit{7}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{8}}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}{\isasymexists}B{\isachardot}\ A\ {\isasymsubseteq}\ B\ \ {\isasymand}\ B\ {\isasymsubseteq}\ carrier\ V\ {\isasymand}\ lin{\isacharunderscore}indpt\ B\ {\isasymand}\ B\ {\isasymnoteq}\ A{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ x{\isacharequal}{\isachardoublequoteopen}A{\isasymunion}{\isacharbraceleft}v{\isacharbraceright}{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\ \ \ \ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{8}}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}unfold\ maximal{\isacharunderscore}def{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ h{\isadigit{1}}\ {\isadigit{9}}\ \isacommand{show}\isamarkupfalse%
\ False\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
A minimal generating set is linearly independent.%
\end{isamarkuptext}%
\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ vectorspace{\isacharparenright}\ min{\isacharunderscore}gen{\isacharunderscore}is{\isacharunderscore}li{\isacharcolon}\isanewline
\ \ \isakeyword{fixes}\ A\isanewline
\ \ \isakeyword{assumes}\ h{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}minimal\ A\ {\isacharparenleft}{\isasymlambda}S{\isachardot}\ S{\isasymsubseteq}carrier\ V\ {\isasymand}\ gen{\isacharunderscore}set\ S{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}lin{\isacharunderscore}indpt\ A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ ccontr{\isacharparenright}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymnot}lin{\isacharunderscore}indpt\ A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ h{\isadigit{1}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}\ A{\isasymsubseteq}\ carrier\ V\ {\isasymand}\ gen{\isacharunderscore}set\ A{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold\ minimal{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{1}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}span\ A\ {\isacharequal}\ carrier\ V{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{0}}\ {\isadigit{1}}\ \isacommand{obtain}\isamarkupfalse%
\ a\ v\ A{\isacharprime}\ \isakeyword{where}\ \isanewline
\ \ \ \ {\isadigit{3}}{\isacharcolon}\ {\isachardoublequoteopen}finite\ A{\isacharprime}\ {\isasymand}\ A{\isacharprime}{\isasymsubseteq}A\ {\isasymand}\ a\ {\isasymin}\ A{\isacharprime}\ {\isasymrightarrow}\ carrier\ K\ {\isasymand}\ LinearCombinations{\isachardot}module{\isachardot}lincomb\ V\ a\ A{\isacharprime}\ {\isacharequal}\ {\isasymzero}\isactrlbsub V\isactrlesub \ {\isasymand}\ v\ {\isasymin}\ A{\isacharprime}\ {\isasymand}\ a\ v\ {\isasymnoteq}\ {\isasymzero}\isactrlbsub K\isactrlesub {\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold\ lin{\isacharunderscore}dep{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{4}}{\isacharcolon}\ {\isachardoublequoteopen}gen{\isacharunderscore}set\ {\isacharparenleft}A{\isacharminus}{\isacharbraceleft}v{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{1}}\ {\isadigit{3}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{5}}{\isacharcolon}\ {\isachardoublequoteopen}v{\isasymin}span\ {\isacharparenleft}A{\isacharprime}{\isacharminus}{\isacharbraceleft}v{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}intro\ lincomb{\isacharunderscore}isolate{\isacharbrackleft}\isakeyword{where}\ a{\isacharequal}{\isachardoublequoteopen}a{\isachardoublequoteclose}\ \isakeyword{and}\ v{\isacharequal}{\isachardoublequoteopen}v{\isachardoublequoteclose}{\isacharbrackright}{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{3}}\ {\isadigit{5}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{5}}{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}v{\isasymin}span\ {\isacharparenleft}A{\isacharminus}{\isacharbraceleft}v{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}intro\ subsetD{\isacharbrackleft}\isakeyword{where}\ {\isacharquery}A{\isacharequal}{\isachardoublequoteopen}span\ {\isacharparenleft}A{\isacharprime}{\isacharminus}{\isacharbraceleft}v{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isacharquery}B{\isacharequal}{\isachardoublequoteopen}span\ {\isacharparenleft}A{\isacharminus}{\isacharbraceleft}v{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isacharquery}c{\isacharequal}{\isachardoublequoteopen}v{\isachardoublequoteclose}{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ span{\isacharunderscore}is{\isacharunderscore}monotone{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{1}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{6}}{\isacharcolon}\ {\isachardoublequoteopen}A{\isasymsubseteq}span\ A{\isachardoublequoteclose}\ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}intro\ in{\isacharunderscore}own{\isacharunderscore}span{\isacharparenright}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{1}}\ {\isadigit{5}}{\isadigit{1}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{7}}{\isacharcolon}\ {\isachardoublequoteopen}span\ {\isacharparenleft}A{\isacharminus}{\isacharbraceleft}v{\isacharbraceright}{\isacharparenright}\ {\isacharequal}\ span\ {\isacharparenleft}{\isacharparenleft}A{\isacharminus}{\isacharbraceleft}v{\isacharbraceright}{\isacharparenright}{\isasymunion}{\isacharbraceleft}v{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}intro\ already{\isacharunderscore}in{\isacharunderscore}span{\isacharparenright}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{3}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{8}}{\isacharcolon}\ {\isachardoublequoteopen}A\ {\isacharequal}\ \ {\isacharparenleft}{\isacharparenleft}A{\isacharminus}{\isacharbraceleft}v{\isacharbraceright}{\isacharparenright}{\isasymunion}{\isacharbraceleft}v{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{2}}\ {\isadigit{7}}\ {\isadigit{8}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{9}}{\isacharcolon}{\isachardoublequoteopen}span\ {\isacharparenleft}A{\isacharminus}{\isacharbraceleft}v{\isacharbraceright}{\isacharparenright}\ {\isacharequal}\ carrier\ V{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{9}}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymnot}{\isacharparenleft}minimal\ A\ {\isacharparenleft}{\isasymlambda}S{\isachardot}\ S{\isasymsubseteq}carrier\ V\ {\isasymand}\ gen{\isacharunderscore}set\ S{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{1}}\ {\isadigit{3}}\ {\isadigit{4}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}{\isasymexists}B{\isachardot}\ A\ {\isasymsupseteq}\ B\ {\isasymand}\ B\ {\isasymsubseteq}\ carrier\ V\ {\isasymand}\ gen{\isacharunderscore}set\ B\ {\isasymand}\ B\ {\isasymnoteq}\ A{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ x{\isacharequal}{\isachardoublequoteopen}A{\isacharminus}{\isacharbraceleft}v{\isacharbraceright}{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{1}}{\isadigit{1}}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}unfold\ minimal{\isacharunderscore}def{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ h{\isadigit{1}}\ {\isadigit{1}}{\isadigit{0}}\ \isacommand{show}\isamarkupfalse%
\ False\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Given that some finite set satisfies $P$, there is a minimal set that satisfies $P$.%
\end{isamarkuptext}%
\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ minimal{\isacharunderscore}exists{\isacharcolon}\isanewline
\ \ \isakeyword{fixes}\ A\ P\isanewline
\ \ \isakeyword{assumes}\ h{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\ \isakeyword{and}\ h{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}P\ A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}B{\isachardot}\ B{\isasymsubseteq}A\ {\isasymand}\ minimal\ B\ P{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ h{\isadigit{1}}\ h{\isadigit{2}}\ \isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ {\isachardoublequoteopen}card\ A{\isachardoublequoteclose}\ \ arbitrary{\isacharcolon}\ A\ rule{\isacharcolon}\ less{\isacharunderscore}induct{\isacharparenright}\isanewline
\isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}less\ A{\isacharparenright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ {\isachardoublequoteopen}card\ A\ {\isacharequal}\ {\isadigit{0}}{\isachardoublequoteclose}{\isacharparenright}\ \ \isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ True\ less{\isachardot}hyps\ less{\isachardot}prems\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ x{\isacharequal}{\isachardoublequoteopen}{\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}unfold\ minimal{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ \ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ {\isachardoublequoteopen}minimal\ A\ P{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ x{\isacharequal}{\isachardoublequoteopen}A{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymnot}minimal\ A\ P{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ less{\isachardot}prems\ {\isadigit{2}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{3}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymexists}B{\isachardot}\ P\ B\ {\isasymand}\ B\ {\isasymsubseteq}\ A\ {\isasymand}\ B{\isasymnoteq}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}unfold\ minimal{\isacharunderscore}def{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{3}}\ \isacommand{obtain}\isamarkupfalse%
\ B\ \isakeyword{where}\ {\isadigit{4}}{\isacharcolon}\ {\isachardoublequoteopen}P\ B\ {\isasymand}\ B\ {\isasymsubset}\ A\ {\isasymand}\ B{\isasymnoteq}A{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{4}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{5}}{\isacharcolon}\ {\isachardoublequoteopen}card\ B\ {\isacharless}\ card\ A{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ less{\isachardot}prems{\isacharparenleft}{\isadigit{1}}{\isacharparenright}\ psubset{\isacharunderscore}card{\isacharunderscore}mono{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ less{\isachardot}hyps\ less{\isachardot}prems\ {\isadigit{3}}\ {\isadigit{4}}\ {\isadigit{5}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{6}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymexists}C{\isasymsubseteq}B{\isachardot}\ minimal\ C\ P{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}intro\ less{\isachardot}hyps{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ rev{\isacharunderscore}finite{\isacharunderscore}subset{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{6}}\ \isacommand{obtain}\isamarkupfalse%
\ C\ \isakeyword{where}\ {\isadigit{7}}{\isacharcolon}\ {\isachardoublequoteopen}C{\isasymsubseteq}B\ {\isasymand}\ minimal\ C\ P{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{4}}\ {\isadigit{7}}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ x{\isacharequal}{\isachardoublequoteopen}C{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}unfold\ minimal{\isacharunderscore}def{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
If $V$ is finite-dimensional, then any linearly independent set is finite.%
\end{isamarkuptext}%
\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ vectorspace{\isacharparenright}\ fin{\isacharunderscore}dim{\isacharunderscore}li{\isacharunderscore}fin{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ fd{\isacharcolon}\ {\isachardoublequoteopen}fin{\isacharunderscore}dim{\isachardoublequoteclose}\ \isakeyword{and}\ li{\isacharcolon}\ {\isachardoublequoteopen}lin{\isacharunderscore}indpt\ A{\isachardoublequoteclose}\ \isakeyword{and}\ inC{\isacharcolon}\ {\isachardoublequoteopen}A{\isasymsubseteq}carrier\ V{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ fin{\isacharcolon}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ ccontr{\isacharparenright}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ A{\isacharcolon}\ {\isachardoublequoteopen}{\isasymnot}finite\ A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ fd\ \isacommand{obtain}\isamarkupfalse%
\ C\ \isakeyword{where}\ C{\isacharcolon}\ {\isachardoublequoteopen}finite\ C\ {\isasymand}\ C{\isasymsubseteq}carrier\ V\ {\isasymand}\ gen{\isacharunderscore}set\ C{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold\ fin{\isacharunderscore}dim{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ A\ \isacommand{obtain}\isamarkupfalse%
\ B\ \isakeyword{where}\ B{\isacharcolon}\ {\isachardoublequoteopen}B{\isasymsubseteq}A{\isasymand}\ finite\ B\ {\isasymand}\ card\ B\ {\isacharequal}\ card\ C\ {\isacharplus}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ infinite{\isacharunderscore}arbitrarily{\isacharunderscore}large{\isacharparenright}\ \isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ B\ li\ \isacommand{have}\isamarkupfalse%
\ liB{\isacharcolon}\ {\isachardoublequoteopen}lin{\isacharunderscore}indpt\ B{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ subset{\isacharunderscore}li{\isacharunderscore}is{\isacharunderscore}li{\isacharbrackleft}\isakeyword{where}\ {\isacharquery}A{\isacharequal}{\isachardoublequoteopen}A{\isachardoublequoteclose}\ \isakeyword{and}\ {\isacharquery}B{\isacharequal}{\isachardoublequoteopen}B{\isachardoublequoteclose}{\isacharbrackright}{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ B\ C\ liB\ inC\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ B\ {\isasymle}\ card\ C{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ li{\isacharunderscore}smaller{\isacharunderscore}than{\isacharunderscore}gen{\isacharcomma}\ auto{\isacharparenright}\ \isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ this\ B\ \isacommand{show}\isamarkupfalse%
\ False\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
If $V$ is finite-dimensional (has a finite generating set), then a finite basis exists.%
\end{isamarkuptext}%
\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ vectorspace{\isacharparenright}\ finite{\isacharunderscore}basis{\isacharunderscore}exists{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ h{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}fin{\isacharunderscore}dim{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}{\isasymbeta}{\isachardot}\ finite\ {\isasymbeta}\ {\isasymand}\ basis\ {\isasymbeta}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ h{\isadigit{1}}\ \isacommand{obtain}\isamarkupfalse%
\ A\ \isakeyword{where}\ {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}finite\ A\ {\isasymand}\ A{\isasymsubseteq}carrier\ V\ {\isasymand}\ gen{\isacharunderscore}set\ A{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ fin{\isacharunderscore}dim{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymexists}{\isasymbeta}{\isachardot}\ {\isasymbeta}{\isasymsubseteq}A\ {\isasymand}\ minimal\ {\isasymbeta}\ {\isacharparenleft}{\isasymlambda}S{\isachardot}\ S{\isasymsubseteq}carrier\ V\ {\isasymand}\ gen{\isacharunderscore}set\ S{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}intro\ minimal{\isacharunderscore}exists{\isacharparenright}\ \isanewline
\ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ {\isasymbeta}\ \isakeyword{where}\ {\isadigit{3}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymbeta}{\isasymsubseteq}A\ {\isasymand}\ minimal\ {\isasymbeta}\ {\isacharparenleft}{\isasymlambda}S{\isachardot}\ S{\isasymsubseteq}carrier\ V\ {\isasymand}\ gen{\isacharunderscore}set\ S{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isadigit{4}}{\isacharcolon}\ {\isachardoublequoteopen}lin{\isacharunderscore}indpt\ {\isasymbeta}{\isachardoublequoteclose}\ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}intro\ min{\isacharunderscore}gen{\isacharunderscore}is{\isacharunderscore}li{\isacharparenright}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ {\isadigit{3}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{5}}{\isacharcolon}\ {\isachardoublequoteopen}gen{\isacharunderscore}set\ {\isasymbeta}\ {\isasymand}\ {\isasymbeta}{\isasymsubseteq}carrier\ V{\isachardoublequoteclose}\ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}unfold\ minimal{\isacharunderscore}def{\isacharparenright}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ {\isadigit{1}}\ {\isadigit{3}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{6}}{\isacharcolon}\ {\isachardoublequoteopen}finite\ {\isasymbeta}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ finite{\isacharunderscore}subset{\isacharparenright}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}unfold\ basis{\isacharunderscore}def{\isacharparenright}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The proof is as follows.
\begin{enumerate}
\item Because $V$ is finite-dimensional, there is a finite generating set 
(we took this as our definition of finite-dimensional).
\item Hence, there is a minimal $\beta \subseteq A$ such that $\beta$ generates $V$.
\item $\beta$ is linearly independent because a minimal generating set is linearly independent.
\end{enumerate}
Finally, $\beta$ is a basis because it is both generating and linearly independent.%
\end{isamarkuptext}%
\isamarkuptrue%
%
\begin{isamarkuptext}%
Any linearly independent set has cardinality at most equal to the dimension.%
\end{isamarkuptext}%
\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ vectorspace{\isacharparenright}\ li{\isacharunderscore}le{\isacharunderscore}dim{\isacharcolon}\ \isanewline
\ \ \isakeyword{fixes}\ A\isanewline
\ \ \isakeyword{assumes}\ fd{\isacharcolon}\ {\isachardoublequoteopen}fin{\isacharunderscore}dim{\isachardoublequoteclose}\ \isakeyword{and}\ c{\isacharcolon}\ {\isachardoublequoteopen}A{\isasymsubseteq}carrier\ V{\isachardoublequoteclose}\ \isakeyword{and}\ l{\isacharcolon}\ {\isachardoublequoteopen}lin{\isacharunderscore}indpt\ A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\ {\isachardoublequoteopen}card\ A\ {\isasymle}\ dim{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ \ {\isacharminus}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ fd\ c\ l\ \isacommand{show}\isamarkupfalse%
\ fa{\isacharcolon}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ fin{\isacharunderscore}dim{\isacharunderscore}li{\isacharunderscore}fin{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ fd\ \isacommand{obtain}\isamarkupfalse%
\ {\isasymbeta}\ \isakeyword{where}\ {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}finite\ {\isasymbeta}\ {\isasymand}\ basis\ {\isasymbeta}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ finite{\isacharunderscore}basis{\isacharunderscore}exists{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ assms\ fa\ {\isadigit{1}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}card\ A\ {\isasymle}\ card\ {\isasymbeta}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}intro\ li{\isacharunderscore}smaller{\isacharunderscore}than{\isacharunderscore}gen{\isacharcomma}\ auto{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold\ basis{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ assms\ {\isadigit{1}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{3}}{\isacharcolon}\ {\isachardoublequoteopen}dim\ {\isacharequal}\ card\ {\isasymbeta}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ dim{\isacharunderscore}basis{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{2}}\ {\isadigit{3}}\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ A\ {\isasymle}\ dim{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Any generating set has cardinality at least equal to the dimension.%
\end{isamarkuptext}%
\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ vectorspace{\isacharparenright}\ gen{\isacharunderscore}ge{\isacharunderscore}dim{\isacharcolon}\ \isanewline
\ \ \isakeyword{fixes}\ A\isanewline
\ \ \isakeyword{assumes}\ fa{\isacharcolon}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\ \isakeyword{and}\ c{\isacharcolon}\ {\isachardoublequoteopen}A{\isasymsubseteq}carrier\ V{\isachardoublequoteclose}\ \isakeyword{and}\ l{\isacharcolon}\ {\isachardoublequoteopen}gen{\isacharunderscore}set\ A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}card\ A\ {\isasymge}\ dim{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ \ {\isacharminus}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ assms\ \isacommand{have}\isamarkupfalse%
\ fd{\isacharcolon}\ {\isachardoublequoteopen}fin{\isacharunderscore}dim{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold\ fin{\isacharunderscore}dim{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ fd\ \isacommand{obtain}\isamarkupfalse%
\ {\isasymbeta}\ \isakeyword{where}\ {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}finite\ {\isasymbeta}\ {\isasymand}\ basis\ {\isasymbeta}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ finite{\isacharunderscore}basis{\isacharunderscore}exists{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ assms\ {\isadigit{1}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}card\ A\ {\isasymge}\ card\ {\isasymbeta}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}intro\ li{\isacharunderscore}smaller{\isacharunderscore}than{\isacharunderscore}gen{\isacharcomma}\ auto{\isacharparenright}\ \isanewline
\ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold\ basis{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ assms\ {\isadigit{1}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{3}}{\isacharcolon}\ {\isachardoublequoteopen}dim\ {\isacharequal}\ card\ {\isasymbeta}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ dim{\isacharunderscore}basis{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{2}}\ {\isadigit{3}}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
If there is an upper bound on the cardinality of sets satisfying $P$, then there is a maximal
set satisfying $P$.%
\end{isamarkuptext}%
\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ maximal{\isacharunderscore}exists{\isacharcolon}\isanewline
\ \ \isakeyword{fixes}\ P\ B\ N\isanewline
\ \ \isakeyword{assumes}\ maxc{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}A{\isachardot}\ P\ A\ {\isasymLongrightarrow}\ finite\ A\ {\isasymand}\ {\isacharparenleft}card\ A\ {\isasymle}N{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\ b{\isacharcolon}\ {\isachardoublequoteopen}P\ B{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}A{\isachardot}\ finite\ A\ {\isasymand}\ maximal\ A\ P{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}S{\isacharequal}{\isachardoublequoteopen}{\isacharbraceleft}card\ A{\isacharbar}\ A{\isachardot}\ P\ A{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}n{\isacharequal}{\isachardoublequoteopen}Max\ {\isacharquery}S{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ maxc\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}{\isachardoublequoteopen}finite\ {\isacharquery}S{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ finite{\isacharunderscore}nat{\isacharunderscore}set{\isacharunderscore}iff{\isacharunderscore}bounded{\isacharunderscore}le{\isacharparenright}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{1}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharquery}n{\isasymin}{\isacharquery}S{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharparenleft}mono{\isacharunderscore}tags{\isacharcomma}\ lifting{\isacharparenright}\ Collect{\isacharunderscore}empty{\isacharunderscore}eq\ Max{\isacharunderscore}in\ b{\isacharparenright}\ \isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ assms\ {\isadigit{2}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{3}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymexists}A{\isachardot}\ P\ A\ {\isasymand}\ finite\ A\ {\isasymand}\ card\ A\ {\isacharequal}\ {\isacharquery}n{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{3}}\ \isacommand{obtain}\isamarkupfalse%
\ A\ \isakeyword{where}\ {\isadigit{4}}{\isacharcolon}\ {\isachardoublequoteopen}P\ A\ {\isasymand}\ finite\ A\ {\isasymand}\ card\ A\ {\isacharequal}\ {\isacharquery}n{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{1}}\ maxc\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{5}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}A{\isachardot}\ P\ A\ {\isasymLongrightarrow}\ finite\ A\ {\isasymand}\ {\isacharparenleft}card\ A\ {\isasymle}{\isacharquery}n{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharparenleft}mono{\isacharunderscore}tags{\isacharcomma}\ lifting{\isacharparenright}\ Max{\isachardot}coboundedI\ mem{\isacharunderscore}Collect{\isacharunderscore}eq{\isacharparenright}\ \isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{4}}\ {\isadigit{5}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{6}}{\isacharcolon}\ {\isachardoublequoteopen}maximal\ A\ P{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}unfold\ maximal{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ card{\isacharunderscore}seteq{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{4}}\ {\isadigit{6}}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Any maximal linearly independent set is a basis.%
\end{isamarkuptext}%
\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ vectorspace{\isacharparenright}\ max{\isacharunderscore}li{\isacharunderscore}is{\isacharunderscore}basis{\isacharcolon}\isanewline
\ \ \isakeyword{fixes}\ A\isanewline
\ \ \isakeyword{assumes}\ h{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}maximal\ A\ {\isacharparenleft}{\isasymlambda}S{\isachardot}\ S{\isasymsubseteq}carrier\ V\ {\isasymand}\ lin{\isacharunderscore}indpt\ S{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}basis\ A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\ \isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ h{\isadigit{1}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}gen{\isacharunderscore}set\ A{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ max{\isacharunderscore}li{\isacharunderscore}is{\isacharunderscore}gen{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ assms\ {\isadigit{1}}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold\ basis{\isacharunderscore}def\ maximal{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Any minimal linearly independent set is a generating set.%
\end{isamarkuptext}%
\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ vectorspace{\isacharparenright}\ min{\isacharunderscore}gen{\isacharunderscore}is{\isacharunderscore}basis{\isacharcolon}\isanewline
\ \ \isakeyword{fixes}\ A\isanewline
\ \ \isakeyword{assumes}\ h{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}minimal\ A\ {\isacharparenleft}{\isasymlambda}S{\isachardot}\ S{\isasymsubseteq}carrier\ V\ {\isasymand}\ gen{\isacharunderscore}set\ S{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}basis\ A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\ \isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ h{\isadigit{1}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}lin{\isacharunderscore}indpt\ A{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ min{\isacharunderscore}gen{\isacharunderscore}is{\isacharunderscore}li{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ assms\ {\isadigit{1}}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold\ basis{\isacharunderscore}def\ minimal{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Any linearly independent set with cardinality at least the dimension is a basis.%
\end{isamarkuptext}%
\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ vectorspace{\isacharparenright}\ dim{\isacharunderscore}li{\isacharunderscore}is{\isacharunderscore}basis{\isacharcolon}\isanewline
\ \ \isakeyword{fixes}\ A\isanewline
\ \ \isakeyword{assumes}\ fd{\isacharcolon}\ {\isachardoublequoteopen}fin{\isacharunderscore}dim{\isachardoublequoteclose}\ \isakeyword{and}\ fa{\isacharcolon}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\ \isakeyword{and}\ ca{\isacharcolon}\ {\isachardoublequoteopen}A{\isasymsubseteq}carrier\ V{\isachardoublequoteclose}\ \isakeyword{and}\ li{\isacharcolon}\ {\isachardoublequoteopen}lin{\isacharunderscore}indpt\ A{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isakeyword{and}\ d{\isacharcolon}\ {\isachardoublequoteopen}card\ A\ {\isasymge}\ dim{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}basis\ A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\ \isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ fd\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}S{\isachardot}\ S{\isasymsubseteq}carrier\ V\ {\isasymand}\ lin{\isacharunderscore}indpt\ S\ {\isasymLongrightarrow}\ finite\ S\ {\isasymand}\ card\ S\ {\isasymle}dim{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ li{\isacharunderscore}le{\isacharunderscore}dim{\isacharparenright}\isanewline
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{0}}\ assms\ \isacommand{have}\isamarkupfalse%
\ h{\isadigit{1}}{\isacharcolon}\ \ {\isachardoublequoteopen}finite\ A\ {\isasymand}\ maximal\ A\ {\isacharparenleft}{\isasymlambda}S{\isachardot}\ \ S{\isasymsubseteq}carrier\ V\ {\isasymand}\ lin{\isacharunderscore}indpt\ S{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}unfold\ maximal{\isacharunderscore}def{\isacharparenright}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ card{\isacharunderscore}seteq\ eq{\isacharunderscore}iff{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ h{\isadigit{1}}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ max{\isacharunderscore}li{\isacharunderscore}is{\isacharunderscore}basis{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Any generating set with cardinality at most the dimension is a basis.%
\end{isamarkuptext}%
\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ vectorspace{\isacharparenright}\ dim{\isacharunderscore}gen{\isacharunderscore}is{\isacharunderscore}basis{\isacharcolon}\isanewline
\ \ \isakeyword{fixes}\ A\isanewline
\ \ \isakeyword{assumes}\ fa{\isacharcolon}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\ \isakeyword{and}\ ca{\isacharcolon}\ {\isachardoublequoteopen}A{\isasymsubseteq}carrier\ V{\isachardoublequoteclose}\ \isakeyword{and}\ li{\isacharcolon}\ {\isachardoublequoteopen}gen{\isacharunderscore}set\ A{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isakeyword{and}\ d{\isacharcolon}\ {\isachardoublequoteopen}card\ A\ {\isasymle}\ dim{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}basis\ A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}S{\isachardot}\ finite\ S{\isasymand}\ S{\isasymsubseteq}carrier\ V\ {\isasymand}\ gen{\isacharunderscore}set\ S\ {\isasymLongrightarrow}\ card\ S\ {\isasymge}dim{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ gen{\isacharunderscore}ge{\isacharunderscore}dim{\isacharcomma}\ auto{\isacharparenright}\isanewline
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{0}}\ assms\ \isacommand{have}\isamarkupfalse%
\ h{\isadigit{1}}{\isacharcolon}\ \ {\isachardoublequoteopen}minimal\ A\ {\isacharparenleft}{\isasymlambda}S{\isachardot}\ finite\ S\ {\isasymand}\ S{\isasymsubseteq}carrier\ V\ {\isasymand}\ gen{\isacharunderscore}set\ S{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}unfold\ minimal{\isacharunderscore}def{\isacharparenright}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ card{\isacharunderscore}seteq\ eq{\isacharunderscore}iff{\isacharparenright}\isanewline
\ \ \isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ h{\isadigit{1}}\ \isacommand{have}\isamarkupfalse%
\ h{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}B{\isachardot}\ B\ {\isasymsubseteq}\ A\ {\isasymand}\ B\ {\isasymsubseteq}\ carrier\ V\ {\isasymand}\ LinearCombinations{\isachardot}module{\isachardot}gen{\isacharunderscore}set\ K\ V\ B\ {\isasymLongrightarrow}\ B\ {\isacharequal}\ A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\ \isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ B\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ asm{\isacharcolon}\ {\isachardoublequoteopen}B\ {\isasymsubseteq}\ A\ {\isasymand}\ B\ {\isasymsubseteq}\ carrier\ V\ {\isasymand}\ LinearCombinations{\isachardot}module{\isachardot}gen{\isacharunderscore}set\ K\ V\ B{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ asm\ h{\isadigit{1}}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}finite\ B{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}unfold\ minimal{\isacharunderscore}def{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}intro\ finite{\isacharunderscore}subset{\isacharbrackleft}\isakeyword{where}\ {\isacharquery}A{\isacharequal}{\isachardoublequoteopen}B{\isachardoublequoteclose}\ \isakeyword{and}\ {\isacharquery}B{\isacharequal}{\isachardoublequoteopen}A{\isachardoublequoteclose}{\isacharbrackright}{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ h{\isadigit{1}}\ asm\ this\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}thesis\ B{\isachardoublequoteclose}\ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}unfold\ minimal{\isacharunderscore}def{\isacharparenright}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ h{\isadigit{1}}\ h\ \isacommand{have}\isamarkupfalse%
\ h{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}minimal\ A\ {\isacharparenleft}{\isasymlambda}S{\isachardot}\ S{\isasymsubseteq}carrier\ V\ {\isasymand}\ gen{\isacharunderscore}set\ S{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}unfold\ minimal{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ h{\isadigit{2}}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ min{\isacharunderscore}gen{\isacharunderscore}is{\isacharunderscore}basis{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
$\beta$ is a basis iff for all $v\in V$, there exists a unique $(a_v)_{v\in S}$ such that
$\sum_{v\in S} a_v v=v$.%
\end{isamarkuptext}%
\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ vectorspace{\isacharparenright}\ basis{\isacharunderscore}criterion{\isacharcolon}\isanewline
\ \ \isakeyword{fixes}\ A\isanewline
\ \ \isakeyword{assumes}\ A{\isacharunderscore}fin{\isacharcolon}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\ \isakeyword{and}\ AinC{\isacharcolon}\ {\isachardoublequoteopen}A{\isasymsubseteq}carrier\ V{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}basis\ A\ {\isacharless}{\isacharminus}{\isachargreater}\ {\isacharparenleft}{\isasymforall}v{\isachardot}\ v{\isasymin}\ carrier\ V\ {\isasymlongrightarrow}{\isacharparenleft}{\isasymexists}{\isacharbang}\ a{\isachardot}\ \ a{\isasymin}A\ {\isasymrightarrow}\isactrlsub E\ carrier\ K\ {\isasymand}\ lincomb\ a\ A\ {\isacharequal}\ v{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymnot}{\isacharparenleft}{\isasymforall}v{\isachardot}\ \ v{\isasymin}\ carrier\ V\ {\isasymlongrightarrow}{\isacharparenleft}{\isasymexists}{\isacharbang}\ a{\isachardot}\ \ a{\isasymin}A\ {\isasymrightarrow}\isactrlsub E\ carrier\ K\ {\isasymand}\ lincomb\ a\ A\ {\isacharequal}\ v{\isacharparenright}{\isacharparenright}\ {\isasymLongrightarrow}\ {\isasymnot}basis\ A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}{\isacharparenleft}{\isasymforall}v{\isachardot}\ \ v{\isasymin}\ carrier\ V\ {\isasymlongrightarrow}{\isacharparenleft}{\isasymexists}{\isacharbang}\ a{\isachardot}\ \ a{\isasymin}A\ {\isasymrightarrow}\isactrlsub E\ carrier\ K\ {\isasymand}\ lincomb\ a\ A\ {\isacharequal}\ v{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ v\ \isakeyword{where}\ v{\isacharcolon}\ {\isachardoublequoteopen}v{\isasymin}\ carrier\ V\ {\isasymand}\ {\isasymnot}{\isacharparenleft}{\isasymexists}{\isacharbang}\ a{\isachardot}\ \ a{\isasymin}A\ {\isasymrightarrow}\isactrlsub E\ carrier\ K\ {\isasymand}\ lincomb\ a\ A\ {\isacharequal}\ v{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ v\ \isacommand{have}\isamarkupfalse%
\ vinC{\isacharcolon}\ {\isachardoublequoteopen}v{\isasymin}carrier\ V{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ v\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}{\isacharparenleft}{\isasymexists}\ a{\isachardot}\ \ a{\isasymin}A\ {\isasymrightarrow}\isactrlsub E\ carrier\ K\ {\isasymand}\ lincomb\ a\ A\ {\isacharequal}\ v{\isacharparenright}\ {\isasymor}\ \ {\isacharparenleft}{\isasymexists}\ a\ b{\isachardot}\ \isanewline
\ \ \ \ \ \ a{\isasymin}A\ {\isasymrightarrow}\isactrlsub E\ carrier\ K\ {\isasymand}\ lincomb\ a\ A\ {\isacharequal}\ v\ {\isasymand}\ b{\isasymin}A\ {\isasymrightarrow}\isactrlsub E\ carrier\ K\ {\isasymand}\ lincomb\ b\ A\ {\isacharequal}\ v\ \isanewline
\ \ \ \ \ \ {\isasymand}\ a{\isasymnoteq}b{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ this\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ disjE{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ a{\isacharcolon}\ {\isachardoublequoteopen}{\isasymnot}{\isacharparenleft}{\isasymexists}\ a{\isachardot}\ \ a{\isasymin}A\ {\isasymrightarrow}\isactrlsub E\ carrier\ K\ {\isasymand}\ lincomb\ a\ A\ {\isacharequal}\ v{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ A{\isacharunderscore}fin\ AinC\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}a{\isachardot}\ a{\isasymin}A\ {\isasymrightarrow}\ carrier\ K\ {\isasymLongrightarrow}\ lincomb\ a\ A\ {\isacharequal}\ lincomb\ {\isacharparenleft}restrict\ a\ A{\isacharparenright}\ A{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}unfold\ lincomb{\isacharunderscore}def\ restrict{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}drule\ Pi{\isacharunderscore}implies{\isacharunderscore}Pi{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ cong{\isacharcolon}\ finsum{\isacharunderscore}cong\ add{\isacharcolon}\ ring{\isacharunderscore}subset{\isacharunderscore}carrier\ Pi{\isacharunderscore}simp{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}a{\isachardot}\ a{\isasymin}A\ {\isasymrightarrow}\ carrier\ K\ {\isasymLongrightarrow}\ restrict\ a\ A{\isasymin}\ A{\isasymrightarrow}\isactrlsub E\ carrier\ K{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ a\ {\isadigit{1}}\ {\isadigit{2}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{3}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymnot}{\isacharparenleft}{\isasymexists}\ a{\isachardot}\ \ a{\isasymin}A\ {\isasymrightarrow}\ carrier\ K\ {\isasymand}\ lincomb\ a\ A\ {\isacharequal}\ v{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ algebra\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{3}}\ A{\isacharunderscore}fin\ AinC\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{4}}{\isacharcolon}\ {\isachardoublequoteopen}v{\isasymnotin}span\ A{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}subst\ finite{\isacharunderscore}span{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{4}}\ AinC\ v\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}{\isacharparenleft}basis\ A{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold\ basis{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ a{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}{\isasymexists}\ a\ b{\isachardot}\ \isanewline
\ \ \ \ \ \ \ \ a{\isasymin}A\ {\isasymrightarrow}\isactrlsub E\ carrier\ K\ {\isasymand}\ lincomb\ a\ A\ {\isacharequal}\ v\ {\isasymand}\ b{\isasymin}A\ {\isasymrightarrow}\isactrlsub E\ carrier\ K\ {\isasymand}\ lincomb\ b\ A\ {\isacharequal}\ v\ \isanewline
\ \ \ \ \ \ \ \ {\isasymand}\ a{\isasymnoteq}b{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ a\ b\ \isakeyword{where}\ ab{\isacharcolon}\ {\isachardoublequoteopen}a{\isasymin}A\ {\isasymrightarrow}\isactrlsub E\ carrier\ K\ {\isasymand}\ lincomb\ a\ A\ {\isacharequal}\ v\ {\isasymand}\ b{\isasymin}A\ {\isasymrightarrow}\isactrlsub E\ carrier\ K\ {\isasymand}\ lincomb\ b\ A\ {\isacharequal}\ v\ \isanewline
\ \ \ \ \ \ \ \ {\isasymand}\ a{\isasymnoteq}b{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ ab\ \isacommand{obtain}\isamarkupfalse%
\ w\ \isakeyword{where}\ w{\isacharcolon}\ {\isachardoublequoteopen}w{\isasymin}A\ {\isasymand}\ a\ w\ {\isasymnoteq}\ b\ w{\isachardoublequoteclose}\ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}unfold\ PiE{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ extensionalityI{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}c{\isacharequal}{\isachardoublequoteopen}{\isasymlambda}\ x{\isachardot}\ {\isacharparenleft}if\ x{\isasymin}A\ then\ {\isacharparenleft}{\isacharparenleft}a\ x{\isacharparenright}\ {\isasymominus}\isactrlbsub K\isactrlesub \ {\isacharparenleft}b\ x{\isacharparenright}{\isacharparenright}\ else\ undefined{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ ab\ \isacommand{have}\isamarkupfalse%
\ a{\isacharunderscore}fun{\isacharcolon}\ {\isachardoublequoteopen}a{\isasymin}A\ {\isasymrightarrow}\ carrier\ K{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeyword{and}\ b{\isacharunderscore}fun{\isacharcolon}\ {\isachardoublequoteopen}b{\isasymin}A\ {\isasymrightarrow}\ carrier\ K{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold\ PiE{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ w\ a{\isacharunderscore}fun\ b{\isacharunderscore}fun\ \isacommand{have}\isamarkupfalse%
\ abinC{\isacharcolon}\ {\isachardoublequoteopen}a\ w\ {\isasymin}carrier\ K{\isachardoublequoteclose}\ {\isachardoublequoteopen}b\ w\ {\isasymin}carrier\ K{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ abinC\ w\ \isacommand{have}\isamarkupfalse%
\ nz{\isacharcolon}\ {\isachardoublequoteopen}a\ w\ {\isasymominus}\isactrlbsub K\isactrlesub \ b\ w\ {\isasymnoteq}\ {\isasymzero}\isactrlbsub K\isactrlesub {\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ A{\isacharunderscore}fin\ AinC\ a{\isacharunderscore}fun\ b{\isacharunderscore}fun\ ab\ vinC\ \isacommand{have}\isamarkupfalse%
\ a{\isacharunderscore}b{\isacharcolon}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}LinearCombinations{\isachardot}module{\isachardot}lincomb\ V\ {\isacharparenleft}{\isasymlambda}x{\isachardot}\ if\ x\ {\isasymin}\ A\ then\ a\ x\ {\isasymominus}\isactrlbsub K\isactrlesub \ b\ x\ else\ undefined{\isacharparenright}\ A\ {\isacharequal}\ {\isasymzero}\isactrlbsub V\isactrlesub {\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}subst\ refl{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}drule\ Pi{\isacharunderscore}implies{\isacharunderscore}Pi{\isadigit{2}}{\isacharparenright}{\isacharplus}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ cong{\isacharcolon}\ lincomb{\isacharunderscore}cong\ add{\isacharcolon}\ Pi{\isacharunderscore}simp{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}unfold\ Pi{\isadigit{2}}{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}subst\ lincomb{\isacharunderscore}diff{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp{\isacharunderscore}all\ add{\isacharcolon}\ minus{\isacharunderscore}eq\ r{\isacharunderscore}neg{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ A{\isacharunderscore}fin\ AinC\ ab\ w\ v\ nz\ a{\isacharunderscore}b\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}lin{\isacharunderscore}dep\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}intro\ lin{\isacharunderscore}dep{\isacharunderscore}crit{\isacharbrackleft}\isakeyword{where}\ {\isacharquery}A{\isacharequal}{\isachardoublequoteopen}A{\isachardoublequoteclose}\ \isakeyword{and}\ {\isacharquery}a{\isacharequal}{\isachardoublequoteopen}{\isacharquery}c{\isachardoublequoteclose}\ \isakeyword{and}\ {\isacharquery}v{\isacharequal}{\isachardoublequoteopen}w{\isachardoublequoteclose}{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ PiE{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}basis\ A{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold\ basis{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}{\isasymforall}v{\isachardot}\ v{\isasymin}\ carrier\ V\ {\isasymlongrightarrow}{\isacharparenleft}{\isasymexists}{\isacharbang}\ a{\isachardot}\ \ a{\isasymin}A\ {\isasymrightarrow}\isactrlsub E\ carrier\ K\ {\isasymand}\ lincomb\ a\ A\ {\isacharequal}\ v{\isacharparenright}{\isacharparenright}\ {\isasymLongrightarrow}\ basis\ A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ b{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}{\isasymforall}v{\isachardot}\ v{\isasymin}\ carrier\ V\ {\isasymlongrightarrow}{\isacharparenleft}{\isasymexists}{\isacharbang}\ a{\isachardot}\ \ a{\isasymin}A\ {\isasymrightarrow}\isactrlsub E\ carrier\ K\ {\isasymand}\ lincomb\ a\ A\ {\isacharequal}\ v{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ {\isacharparenleft}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharparenleft}{\isasymforall}v{\isachardot}\ v{\isasymin}\ carrier\ V\ {\isasymlongrightarrow}{\isacharparenleft}{\isasymexists}{\isacharbang}\ a{\isachardot}\ \ {\isacharquery}Q\ a\ v{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ b{\isadigit{1}}\ \isacommand{have}\isamarkupfalse%
\ b{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}{\isasymforall}v{\isachardot}\ \ v{\isasymin}\ carrier\ V\ {\isasymlongrightarrow}{\isacharparenleft}{\isasymexists}\ a{\isachardot}\ \ a{\isasymin}A\ {\isasymrightarrow}\ carrier\ K\ {\isasymand}\ lincomb\ a\ A\ {\isacharequal}\ v{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}unfold\ PiE{\isacharunderscore}def{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ A{\isacharunderscore}fin\ AinC\ b{\isadigit{2}}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}gen{\isacharunderscore}set\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}unfold\ span{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ b{\isadigit{1}}\ \isacommand{have}\isamarkupfalse%
\ A{\isacharunderscore}li{\isacharcolon}\ {\isachardoublequoteopen}lin{\isacharunderscore}indpt\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}z{\isacharequal}{\isachardoublequoteopen}{\isasymlambda}\ x{\isachardot}\ {\isacharparenleft}if\ {\isacharparenleft}x{\isasymin}A{\isacharparenright}\ then\ {\isasymzero}\isactrlbsub K\isactrlesub \ else\ undefined{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ A{\isacharunderscore}fin\ AinC\ \isacommand{have}\isamarkupfalse%
\ zero{\isacharcolon}\ {\isachardoublequoteopen}{\isacharquery}Q\ {\isacharquery}z\ {\isasymzero}\isactrlbsub V\isactrlesub {\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold\ PiE{\isacharunderscore}def\ extensional{\isacharunderscore}def\ lincomb{\isacharunderscore}def{\isacharcomma}\ auto\ simp\ add{\isacharcolon}\ ring{\isacharunderscore}subset{\isacharunderscore}carrier{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ A{\isacharunderscore}fin\ AinC\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ finite{\isacharunderscore}lin{\isacharunderscore}indpt{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ a\isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ a{\isacharunderscore}fun{\isacharcolon}\ {\isachardoublequoteopen}a\ {\isasymin}\ A\ {\isasymrightarrow}\ carrier\ K{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ lc{\isacharunderscore}a{\isacharcolon}\ {\isachardoublequoteopen}LinearCombinations{\isachardot}module{\isachardot}lincomb\ V\ a\ A\ {\isacharequal}\ {\isasymzero}\isactrlbsub V\isactrlesub {\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ a{\isacharunderscore}fun\ \isacommand{have}\isamarkupfalse%
\ a{\isacharunderscore}res{\isacharcolon}\ {\isachardoublequoteopen}restrict\ a\ A\ {\isasymin}\ A\ {\isasymrightarrow}\isactrlsub E\ carrier\ K{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ a{\isacharunderscore}fun\ A{\isacharunderscore}fin\ AinC\ lc{\isacharunderscore}a\ \isacommand{have}\isamarkupfalse%
\ \isanewline
\ \ \ \ \ \ \ \ \ \ lc{\isacharunderscore}a{\isacharunderscore}res{\isacharcolon}\ {\isachardoublequoteopen}LinearCombinations{\isachardot}module{\isachardot}lincomb\ V\ {\isacharparenleft}restrict\ a\ A{\isacharparenright}\ A\ {\isacharequal}\ {\isasymzero}\isactrlbsub V\isactrlesub {\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}unfold\ lincomb{\isacharunderscore}def\ restrict{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}drule\ Pi{\isacharunderscore}implies{\isacharunderscore}Pi{\isadigit{2}}{\isacharcomma}\ simp\ cong{\isacharcolon}\ finsum{\isacharunderscore}cong\ add{\isacharcolon}\ Pi{\isacharunderscore}simp\ ring{\isacharunderscore}subset{\isacharunderscore}carrier{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ a{\isacharunderscore}fun\ a{\isacharunderscore}res\ lc{\isacharunderscore}a{\isacharunderscore}res\ zero\ b{\isadigit{1}}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}restrict\ a\ A\ {\isacharequal}\ {\isacharquery}z{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ this\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}v{\isasymin}A{\isachardot}\ a\ v\ {\isacharequal}\ {\isasymzero}\isactrlbsub K\isactrlesub {\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}unfold\ restrict{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ meson\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ A{\isacharunderscore}gen{\isacharcolon}\ {\isachardoublequoteopen}gen{\isacharunderscore}set\ A{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\ \isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ AinC\ \isacommand{have}\isamarkupfalse%
\ dir{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}span\ A{\isasymsubseteq}carrier\ V{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ span{\isacharunderscore}is{\isacharunderscore}subset{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ dir{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}carrier\ V{\isasymsubseteq}span\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}auto{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ v\isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ v{\isacharcolon}\ {\isachardoublequoteopen}v{\isasymin}carrier\ V{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ v\ b{\isadigit{2}}\ \isacommand{obtain}\isamarkupfalse%
\ a\ \isakeyword{where}\ {\isachardoublequoteopen}a{\isasymin}A\ {\isasymrightarrow}\ carrier\ K\ {\isasymand}\ lincomb\ a\ A\ {\isacharequal}\ v{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ this\ A{\isacharunderscore}fin\ AinC\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}v{\isasymin}span\ A{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}subst\ finite{\isacharunderscore}span{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ dir{\isadigit{1}}\ dir{\isadigit{2}}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ A{\isacharunderscore}li\ A{\isacharunderscore}gen\ AinC\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}basis\ A{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold\ basis{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{1}}\ {\isadigit{2}}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ satx\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isamarkupsubsection{The rank-nullity (dimension) theorem%
}
\isamarkuptrue%
%
\begin{isamarkuptext}%
If $V$ is finite-dimensional and $T:V\to W$ is a linear map, then $\text{dim}(\text{im}(T))+
\text{dim}(\text{ker}(T)) = \text{dim} V$.%
\end{isamarkuptext}%
\isamarkuptrue%
\isacommand{theorem}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ linear{\isacharunderscore}map{\isacharparenright}\ rank{\isacharunderscore}nullity{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ fd{\isacharcolon}\ {\isachardoublequoteopen}V{\isachardot}fin{\isacharunderscore}dim{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}vectorspace{\isachardot}dim\ K\ {\isacharparenleft}W{\isachardot}vs\ imT{\isacharparenright}{\isacharparenright}\ {\isacharplus}\ {\isacharparenleft}vectorspace{\isachardot}dim\ K\ {\isacharparenleft}V{\isachardot}vs\ kerT{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ V{\isachardot}dim{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\ \isanewline
\ \ %
\isamarkupcmt{First interpret kerT, imT as vectorspaces%
}
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ subs{\isacharunderscore}ker{\isacharcolon}\ {\isachardoublequoteopen}subspace\ K\ kerT\ V{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ kerT{\isacharunderscore}is{\isacharunderscore}subspace{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ subs{\isacharunderscore}ker\ \isacommand{have}\isamarkupfalse%
\ vs{\isacharunderscore}ker{\isacharcolon}\ {\isachardoublequoteopen}vectorspace\ K\ {\isacharparenleft}V{\isachardot}vs\ kerT{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ V{\isachardot}subspace{\isacharunderscore}is{\isacharunderscore}vs{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ vs{\isacharunderscore}ker\ \isacommand{interpret}\isamarkupfalse%
\ ker{\isacharcolon}\ vectorspace\ K\ {\isachardoublequoteopen}{\isacharparenleft}V{\isachardot}vs\ kerT{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ kerInC{\isacharcolon}\ {\isachardoublequoteopen}kerT{\isasymsubseteq}carrier\ V{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold\ ker{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ subs{\isacharunderscore}im{\isacharcolon}\ {\isachardoublequoteopen}subspace\ K\ imT\ W{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ imT{\isacharunderscore}is{\isacharunderscore}subspace{\isacharparenright}\ \ \isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ subs{\isacharunderscore}im\ \isacommand{have}\isamarkupfalse%
\ vs{\isacharunderscore}im{\isacharcolon}\ {\isachardoublequoteopen}vectorspace\ K\ {\isacharparenleft}W{\isachardot}vs\ imT{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ W{\isachardot}subspace{\isacharunderscore}is{\isacharunderscore}vs{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ vs{\isacharunderscore}im\ \isacommand{interpret}\isamarkupfalse%
\ im{\isacharcolon}\ vectorspace\ K\ {\isachardoublequoteopen}{\isacharparenleft}W{\isachardot}vs\ imT{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ imInC{\isacharcolon}\ {\isachardoublequoteopen}imT{\isasymsubseteq}carrier\ W{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold\ im{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ zero{\isacharunderscore}same{\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymzero}\isactrlbsub V{\isachardot}vs\ kerT\isactrlesub \ {\isacharequal}\ {\isasymzero}\isactrlbsub V\isactrlesub {\isachardoublequoteclose}\ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}unfold\ ker{\isacharunderscore}def{\isacharparenright}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ %
\isamarkupcmt{Show ker T has a finite basis. This is not obvious. Show that any linearly independent set 
has size at most that of V. There exists a maximal linearly independent set, which is the basis.%
}
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ every{\isacharunderscore}li{\isacharunderscore}small{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}A{\isachardot}\ {\isacharparenleft}A\ {\isasymsubseteq}\ kerT{\isacharparenright}{\isasymand}\ ker{\isachardot}lin{\isacharunderscore}indpt\ A\ {\isasymLongrightarrow}\ \isanewline
\ \ \ \ finite\ A\ {\isasymand}\ card\ A\ {\isasymle}\ V{\isachardot}dim{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\ \isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ A\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ eli{\isacharunderscore}asm{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}A\ {\isasymsubseteq}\ kerT{\isacharparenright}{\isasymand}\ ker{\isachardot}lin{\isacharunderscore}indpt\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isanewline
\ \ \ \ \isacommand{note}\isamarkupfalse%
\ V{\isachardot}module{\isachardot}span{\isacharunderscore}li{\isacharunderscore}not{\isacharunderscore}depend{\isacharparenleft}{\isadigit{2}}{\isacharparenright}{\isacharbrackleft}\isakeyword{where}\ {\isacharquery}N{\isacharequal}{\isachardoublequoteopen}kerT{\isachardoublequoteclose}\ \isakeyword{and}\ {\isacharquery}S{\isacharequal}{\isachardoublequoteopen}A{\isachardoublequoteclose}{\isacharbrackright}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ this\ subs{\isacharunderscore}ker\ fd\ eli{\isacharunderscore}asm\ kerInC\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}thesis\ A{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}intro\ conjI{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharbang}{\isacharcolon}\ V{\isachardot}li{\isacharunderscore}le{\isacharunderscore}dim{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ every{\isacharunderscore}li{\isacharunderscore}small\ \isacommand{have}\isamarkupfalse%
\ exA{\isacharcolon}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymexists}A{\isachardot}\ finite\ A\ {\isasymand}\ maximal\ A\ {\isacharparenleft}{\isasymlambda}S{\isachardot}\ S{\isasymsubseteq}carrier\ {\isacharparenleft}V{\isachardot}vs\ kerT{\isacharparenright}\ {\isasymand}\ ker{\isachardot}lin{\isacharunderscore}indpt\ S{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}intro\ maximal{\isacharunderscore}exists{\isacharbrackleft}\isakeyword{where}\ {\isacharquery}N{\isacharequal}{\isachardoublequoteopen}V{\isachardot}dim{\isachardoublequoteclose}\ \isakeyword{and}\ {\isacharquery}B{\isacharequal}{\isachardoublequoteopen}{\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold\ ker{\isachardot}lin{\isacharunderscore}dep{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ exA\ \isacommand{obtain}\isamarkupfalse%
\ A\ \isakeyword{where}\ A{\isacharcolon}{\isachardoublequoteopen}\ finite\ A\ {\isasymand}\ maximal\ A\ {\isacharparenleft}{\isasymlambda}S{\isachardot}\ S{\isasymsubseteq}carrier\ {\isacharparenleft}V{\isachardot}vs\ kerT{\isacharparenright}\ {\isasymand}\ ker{\isachardot}lin{\isacharunderscore}indpt\ S{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ finA{\isacharcolon}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\ \isakeyword{and}\ Ainker{\isacharcolon}\ {\isachardoublequoteopen}A{\isasymsubseteq}carrier\ {\isacharparenleft}V{\isachardot}vs\ kerT{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\ AinC{\isacharcolon}\ {\isachardoublequoteopen}A{\isasymsubseteq}carrier\ V{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold\ maximal{\isacharunderscore}def\ ker{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ %
\isamarkupcmt{We obtain the basis A of kerT. It is also linearly independent when considered in V rather
than kerT%
}
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ A\ \isacommand{have}\isamarkupfalse%
\ Abasis{\isacharcolon}\ {\isachardoublequoteopen}ker{\isachardot}basis\ A{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ ker{\isachardot}max{\isacharunderscore}li{\isacharunderscore}is{\isacharunderscore}basis{\isacharcomma}\ auto{\isacharparenright}\ \isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ subs{\isacharunderscore}ker\ Abasis\ \isacommand{have}\isamarkupfalse%
\ spanA{\isacharcolon}\ {\isachardoublequoteopen}V{\isachardot}module{\isachardot}span\ A\ {\isacharequal}\ kerT{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}unfold\ ker{\isachardot}basis{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}subst\ sym{\isacharbrackleft}OF\ V{\isachardot}module{\isachardot}span{\isacharunderscore}li{\isacharunderscore}not{\isacharunderscore}depend{\isacharparenleft}{\isadigit{1}}{\isacharparenright}{\isacharbrackleft}\isakeyword{where}\ {\isacharquery}N{\isacharequal}{\isachardoublequoteopen}kerT{\isachardoublequoteclose}{\isacharbrackright}{\isacharbrackright}{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ Abasis\ \isacommand{have}\isamarkupfalse%
\ Akerli{\isacharcolon}\ {\isachardoublequoteopen}ker{\isachardot}lin{\isacharunderscore}indpt\ A{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}unfold\ ker{\isachardot}basis{\isacharunderscore}def{\isacharparenright}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ subs{\isacharunderscore}ker\ Ainker\ Akerli\ \isacommand{have}\isamarkupfalse%
\ Ali{\isacharcolon}\ {\isachardoublequoteopen}V{\isachardot}module{\isachardot}lin{\isacharunderscore}indpt\ A{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ V{\isachardot}module{\isachardot}span{\isacharunderscore}li{\isacharunderscore}not{\isacharunderscore}depend{\isacharparenleft}{\isadigit{2}}{\isacharparenright}{\isacharparenright}%
\begin{isamarkuptxt}%
Use the replacement theorem to find C such that $A\cup C$ is a basis of V.%
\end{isamarkuptxt}%
\isamarkuptrue%
\ \ \isacommand{from}\isamarkupfalse%
\ fd\ \isacommand{obtain}\isamarkupfalse%
\ B\ \isakeyword{where}\ B{\isacharcolon}\ {\isachardoublequoteopen}finite\ B{\isasymand}\ V{\isachardot}basis\ B{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ V{\isachardot}finite{\isacharunderscore}basis{\isacharunderscore}exists{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ B\ \isacommand{have}\isamarkupfalse%
\ Bfin{\isacharcolon}\ {\isachardoublequoteopen}finite\ B{\isachardoublequoteclose}\ \isakeyword{and}\ Bbasis{\isacharcolon}{\isachardoublequoteopen}V{\isachardot}basis\ B{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ B\ \isacommand{have}\isamarkupfalse%
\ Bcard{\isacharcolon}\ {\isachardoublequoteopen}V{\isachardot}dim\ {\isacharequal}\ card\ B{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ V{\isachardot}dim{\isacharunderscore}basis{\isacharcomma}\ auto{\isacharparenright}\ \isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ Bbasis\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{6}}{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}V{\isachardot}module{\isachardot}span\ B\ {\isacharequal}\ carrier\ V{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold\ V{\isachardot}basis{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ A\ Abasis\ Ali\ B\ vs{\isacharunderscore}ker\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}C{\isachardot}\ finite\ C\ {\isasymand}\ C{\isasymsubseteq}carrier\ V\ {\isasymand}\ C{\isasymsubseteq}\ V{\isachardot}module{\isachardot}span\ B\ {\isasymand}\ C{\isasyminter}A{\isacharequal}{\isacharbraceleft}{\isacharbraceright}\ \isanewline
\ \ \ \ \ \ {\isasymand}\ int\ {\isacharparenleft}card\ C{\isacharparenright}\ {\isasymle}\ {\isacharparenleft}int\ {\isacharparenleft}card\ B{\isacharparenright}{\isacharparenright}\ {\isacharminus}\ {\isacharparenleft}int\ {\isacharparenleft}card\ A{\isacharparenright}{\isacharparenright}\ {\isasymand}\ {\isacharparenleft}V{\isachardot}module{\isachardot}span\ {\isacharparenleft}A\ {\isasymunion}\ C{\isacharparenright}\ {\isacharequal}\ V{\isachardot}module{\isachardot}span\ B{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}intro\ V{\isachardot}replacement{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}unfold\ vectorspace{\isachardot}basis{\isacharunderscore}def\ V{\isachardot}basis{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold\ ker{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}%
\begin{isamarkuptxt}%
From replacement we got $|C|\leq |B|-|A|$. Equality must actually hold, because no generating set
can be smaller than $B$. Now $A\cup C$ is a maximal generating set, hence a basis; its cardinality
equals the dimension.%
\end{isamarkuptxt}%
\isamarkuptrue%
%
\begin{isamarkuptxt}%
We claim that $T(C)$ is basis for $\text{im}(T)$.%
\end{isamarkuptxt}%
\isamarkuptrue%
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ C\ \isakeyword{where}\ C{\isacharcolon}\ {\isachardoublequoteopen}finite\ C\ {\isasymand}\ C{\isasymsubseteq}carrier\ V\ {\isasymand}\ C{\isasymsubseteq}\ V{\isachardot}module{\isachardot}span\ B\ {\isasymand}\ C{\isasyminter}A{\isacharequal}{\isacharbraceleft}{\isacharbraceright}\ \isanewline
\ \ \ \ {\isasymand}\ int\ {\isacharparenleft}card\ C{\isacharparenright}\ {\isasymle}\ {\isacharparenleft}int\ {\isacharparenleft}card\ B{\isacharparenright}{\isacharparenright}\ {\isacharminus}\ {\isacharparenleft}int\ {\isacharparenleft}card\ A{\isacharparenright}{\isacharparenright}\ {\isasymand}\ {\isacharparenleft}V{\isachardot}module{\isachardot}span\ {\isacharparenleft}A\ {\isasymunion}\ C{\isacharparenright}\ {\isacharequal}\ V{\isachardot}module{\isachardot}span\ B{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ Cfin{\isacharcolon}\ {\isachardoublequoteopen}finite\ C{\isachardoublequoteclose}\ \isakeyword{and}\ CinC{\isacharcolon}\ {\isachardoublequoteopen}C{\isasymsubseteq}carrier\ V{\isachardoublequoteclose}\ \isakeyword{and}\ CinspanB{\isacharcolon}\ {\isachardoublequoteopen}\ C{\isasymsubseteq}V{\isachardot}module{\isachardot}span\ B{\isachardoublequoteclose}\ \isakeyword{and}\ CAdis{\isacharcolon}\ {\isachardoublequoteopen}C{\isasyminter}A{\isacharequal}{\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isakeyword{and}\ Ccard{\isacharcolon}\ {\isachardoublequoteopen}int\ {\isacharparenleft}card\ C{\isacharparenright}\ {\isasymle}\ {\isacharparenleft}int\ {\isacharparenleft}card\ B{\isacharparenright}{\isacharparenright}\ {\isacharminus}\ {\isacharparenleft}int\ {\isacharparenleft}card\ A{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ ACspanB{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}V{\isachardot}module{\isachardot}span\ {\isacharparenleft}A\ {\isasymunion}\ C{\isacharparenright}\ {\isacharequal}\ V{\isachardot}module{\isachardot}span\ B{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ C\ \isacommand{have}\isamarkupfalse%
\ cardLe{\isacharcolon}\ {\isachardoublequoteopen}card\ A\ {\isacharplus}\ card\ C\ {\isasymle}\ card\ B{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ B\ C\ \isacommand{have}\isamarkupfalse%
\ ACgen{\isacharcolon}\ {\isachardoublequoteopen}V{\isachardot}module{\isachardot}gen{\isacharunderscore}set\ {\isacharparenleft}A{\isasymunion}C{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}unfold\ V{\isachardot}basis{\isacharunderscore}def{\isacharparenright}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ finA\ C\ ACgen\ AinC\ B\ \isacommand{have}\isamarkupfalse%
\ cardGe{\isacharcolon}\ {\isachardoublequoteopen}card\ {\isacharparenleft}A{\isasymunion}C{\isacharparenright}\ {\isasymge}\ card\ B{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ V{\isachardot}li{\isacharunderscore}smaller{\isacharunderscore}than{\isacharunderscore}gen{\isacharcomma}\ unfold\ V{\isachardot}basis{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ finA\ C\ \isacommand{have}\isamarkupfalse%
\ cardUn{\isacharcolon}\ {\isachardoublequoteopen}card\ {\isacharparenleft}A{\isasymunion}C{\isacharparenright}{\isasymle}\ \ card\ A\ {\isacharplus}\ card\ C{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ Int{\isacharunderscore}commute\ card{\isacharunderscore}Un{\isacharunderscore}disjoint\ le{\isacharunderscore}refl{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ cardLe\ cardUn\ cardGe\ Bcard\ \isacommand{have}\isamarkupfalse%
\ cardEq{\isacharcolon}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}card\ {\isacharparenleft}A{\isasymunion}C{\isacharparenright}\ {\isacharequal}\ card\ A\ {\isacharplus}\ card\ C{\isachardoublequoteclose}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}card\ {\isacharparenleft}A{\isasymunion}C{\isacharparenright}\ {\isacharequal}\ card\ B{\isachardoublequoteclose}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}card\ {\isacharparenleft}A{\isasymunion}C{\isacharparenright}\ {\isacharequal}\ V{\isachardot}dim{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ Abasis\ C\ cardEq\ \isacommand{have}\isamarkupfalse%
\ disj{\isacharcolon}\ {\isachardoublequoteopen}A{\isasyminter}C{\isacharequal}{\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ finA\ AinC\ C\ cardEq\ {\isadigit{6}}{\isadigit{2}}\ \isacommand{have}\isamarkupfalse%
\ ACfin{\isacharcolon}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}A{\isasymunion}C{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\ ACbasis{\isacharcolon}\ {\isachardoublequoteopen}V{\isachardot}basis\ {\isacharparenleft}A{\isasymunion}C{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharbang}{\isacharcolon}\ V{\isachardot}dim{\isacharunderscore}gen{\isacharunderscore}is{\isacharunderscore}basis{\isacharparenright}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ lm{\isacharcolon}\ {\isachardoublequoteopen}linear{\isacharunderscore}map\ K\ V\ W\ T{\isachardoublequoteclose}\isacommand{{\isachardot}{\isachardot}}\isamarkupfalse%
%
\begin{isamarkuptxt}%
Let $C'$ be the image of $C$ under $T$. We will show $C'$ is a basis for $\text{im}(T)$.%
\end{isamarkuptxt}%
\isamarkuptrue%
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}C{\isacharprime}\ {\isacharequal}\ {\isachardoublequoteopen}T{\isacharbackquote}C{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ Cfin\ \isacommand{have}\isamarkupfalse%
\ C{\isacharprime}fin{\isacharcolon}\ {\isachardoublequoteopen}finite\ {\isacharquery}C{\isacharprime}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ AinC\ C\ \isacommand{have}\isamarkupfalse%
\ cim{\isacharcolon}\ {\isachardoublequoteopen}{\isacharquery}C{\isacharprime}{\isasymsubseteq}imT{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold\ im{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}%
\begin{isamarkuptxt}%
"There is a subtle detail: we first have to show $T$ is injective on $C$.%
\end{isamarkuptxt}%
\isamarkuptrue%
%
\begin{isamarkuptxt}%
We establish that no nontrivial linear combination of $C$ can have image 0 under $T$, 
because that would mean it is a linear combination of $A$, giving that $A\cup C$ is linearly dependent, 
contradiction. We use this result in 2 ways: (1) if $T$ is not injective on $C$, then we obtain $v$, $w\in C$ 
such that $v-w$ is in the kernel, contradiction, (2) if $T(C)$ is linearly dependent, 
taking the inverse image of that linear combination gives a linear combination of $C$ in the kernel, 
contradiction. Hence $T$ is injective on $C$ and $T(C)$ is linearly independent.%
\end{isamarkuptxt}%
\isamarkuptrue%
\ \ \isacommand{have}\isamarkupfalse%
\ lc{\isacharunderscore}in{\isacharunderscore}ker{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}d\ D\ v{\isachardot}\ {\isasymlbrakk}D{\isasymsubseteq}C{\isacharsemicolon}\ d{\isasymin}D{\isasymrightarrow}carrier\ K{\isacharsemicolon}\ T\ {\isacharparenleft}V{\isachardot}module{\isachardot}lincomb\ d\ D{\isacharparenright}\ {\isacharequal}\ {\isasymzero}\isactrlbsub W\isactrlesub {\isacharsemicolon}\ \isanewline
\ \ \ \ v{\isasymin}D{\isacharsemicolon}\ d\ v\ {\isasymnoteq}{\isasymzero}\isactrlbsub K\isactrlesub {\isasymrbrakk}{\isasymLongrightarrow}False{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ d\ D\ v\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ D{\isacharcolon}\ {\isachardoublequoteopen}D{\isasymsubseteq}C{\isachardoublequoteclose}\ \isakeyword{and}\ d{\isacharcolon}\ {\isachardoublequoteopen}d{\isasymin}D{\isasymrightarrow}carrier\ K{\isachardoublequoteclose}\ \isakeyword{and}\ T{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}T\ {\isacharparenleft}V{\isachardot}module{\isachardot}lincomb\ d\ D{\isacharparenright}\ {\isacharequal}\ {\isasymzero}\isactrlbsub W\isactrlesub {\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isakeyword{and}\ v{\isacharcolon}\ {\isachardoublequoteopen}v{\isasymin}D{\isachardoublequoteclose}\ \isakeyword{and}\ dvnz{\isacharcolon}\ {\isachardoublequoteopen}d\ v\ {\isasymnoteq}{\isasymzero}\isactrlbsub K\isactrlesub {\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ D\ Cfin\ \isacommand{have}\isamarkupfalse%
\ Dfin{\isacharcolon}\ {\isachardoublequoteopen}finite\ D{\isachardoublequoteclose}\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ finite{\isacharunderscore}subset{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ D\ CinC\ \isacommand{have}\isamarkupfalse%
\ DinC{\isacharcolon}\ {\isachardoublequoteopen}D{\isasymsubseteq}carrier\ V{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ T{\isadigit{0}}\ d\ Dfin\ DinC\ \isacommand{have}\isamarkupfalse%
\ lc{\isacharunderscore}d{\isacharcolon}\ {\isachardoublequoteopen}V{\isachardot}module{\isachardot}lincomb\ d\ D{\isasymin}kerT{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold\ ker{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ lc{\isacharunderscore}d\ spanA\ AinC\ \isacommand{have}\isamarkupfalse%
\ \ {\isachardoublequoteopen}{\isasymexists}a{\isacharprime}\ A{\isacharprime}{\isachardot}\ A{\isacharprime}{\isasymsubseteq}A\ {\isasymand}\ a{\isacharprime}{\isasymin}A{\isacharprime}{\isasymrightarrow}carrier\ K\ {\isasymand}\isanewline
\ \ \ \ \ \ \ V{\isachardot}module{\isachardot}lincomb\ a{\isacharprime}\ A{\isacharprime}{\isacharequal}\ V{\isachardot}module{\isachardot}lincomb\ d\ D{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ V{\isachardot}module{\isachardot}in{\isacharunderscore}span{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ a{\isacharprime}\ A{\isacharprime}\ \isakeyword{where}\ a{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}A{\isacharprime}{\isasymsubseteq}A\ {\isasymand}\ a{\isacharprime}{\isasymin}A{\isacharprime}{\isasymrightarrow}carrier\ K\ {\isasymand}\isanewline
\ \ \ \ \ \ V{\isachardot}module{\isachardot}lincomb\ d\ D\ {\isacharequal}\ V{\isachardot}module{\isachardot}lincomb\ a{\isacharprime}\ A{\isacharprime}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ \ A{\isacharprime}sub{\isacharcolon}\ {\isachardoublequoteopen}A{\isacharprime}{\isasymsubseteq}A{\isachardoublequoteclose}\ \isakeyword{and}\ a{\isacharprime}fun{\isacharcolon}\ {\isachardoublequoteopen}a{\isacharprime}{\isasymin}A{\isacharprime}{\isasymrightarrow}carrier\ K{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isakeyword{and}\ a{\isacharprime}{\isacharunderscore}lc{\isacharcolon}{\isachardoublequoteopen}V{\isachardot}module{\isachardot}lincomb\ d\ D\ {\isacharequal}\ V{\isachardot}module{\isachardot}lincomb\ a{\isacharprime}\ A{\isacharprime}{\isachardoublequoteclose}\ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ a{\isacharprime}\ finA\ Dfin\ \isacommand{have}\isamarkupfalse%
\ A{\isacharprime}fin{\isacharcolon}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}A{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ finite{\isacharunderscore}subset{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ AinC\ A{\isacharprime}sub\ \isacommand{have}\isamarkupfalse%
\ A{\isacharprime}inC{\isacharcolon}\ {\isachardoublequoteopen}A{\isacharprime}{\isasymsubseteq}carrier\ V{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}e\ {\isacharequal}\ {\isachardoublequoteopen}{\isacharparenleft}{\isasymlambda}v{\isachardot}\ if\ v\ {\isasymin}\ A{\isacharprime}\ then\ a{\isacharprime}\ v\ else\ {\isasymominus}\isactrlbsub K\isactrlesub {\isasymone}\isactrlbsub K\isactrlesub {\isasymotimes}\isactrlbsub K\isactrlesub \ d\ v{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ a{\isacharprime}fun\ d\ \isacommand{have}\isamarkupfalse%
\ e{\isacharunderscore}fun{\isacharcolon}\ {\isachardoublequoteopen}{\isacharquery}e\ {\isasymin}\ A{\isacharprime}\ {\isasymunion}\ D\ {\isasymrightarrow}\ carrier\ K{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}unfold\ Pi{\isacharunderscore}def{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ A{\isacharprime}fin\ Dfin\ \isanewline
\ \ \ \ \ \ A{\isacharprime}inC\ DinC\ \isanewline
\ \ \ \ \ \ a{\isacharprime}fun\ d\ e{\isacharunderscore}fun\ \isanewline
\ \ \ \ \ \ disj\ D\ A{\isacharprime}sub\ \isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ lccomp{\isadigit{1}}{\isacharcolon}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}V{\isachardot}module{\isachardot}lincomb\ a{\isacharprime}\ A{\isacharprime}\ {\isasymoplus}\isactrlbsub V\isactrlesub \ {\isasymominus}\isactrlbsub K\isactrlesub {\isasymone}\isactrlbsub K\isactrlesub {\isasymodot}\isactrlbsub V\isactrlesub \ V{\isachardot}module{\isachardot}lincomb\ d\ D\ {\isacharequal}\ \isanewline
\ \ \ \ \ \ \ \ V{\isachardot}module{\isachardot}lincomb\ {\isacharparenleft}{\isasymlambda}v{\isachardot}\ if\ v{\isasymin}A{\isacharprime}\ then\ a{\isacharprime}\ v\ else\ {\isasymominus}\isactrlbsub K\isactrlesub {\isasymone}\isactrlbsub K\isactrlesub {\isasymotimes}\isactrlbsub K\isactrlesub \ d\ v{\isacharparenright}\ {\isacharparenleft}A{\isacharprime}{\isasymunion}D{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}subst\ sym{\isacharbrackleft}OF\ V{\isachardot}module{\isachardot}lincomb{\isacharunderscore}smult{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp{\isacharunderscore}all{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}subst\ V{\isachardot}module{\isachardot}lincomb{\isacharunderscore}union{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ A{\isacharprime}fin\ \isanewline
\ \ \ \ \ \ A{\isacharprime}inC\ \isanewline
\ \ \ \ \ \ a{\isacharprime}fun\ \isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ lccomp{\isadigit{2}}{\isacharcolon}\ \isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}V{\isachardot}module{\isachardot}lincomb\ a{\isacharprime}\ A{\isacharprime}\ {\isasymoplus}\isactrlbsub V\isactrlesub \ {\isasymominus}\isactrlbsub K\isactrlesub {\isasymone}\isactrlbsub K\isactrlesub {\isasymodot}\isactrlbsub V\isactrlesub \ V{\isachardot}module{\isachardot}lincomb\ d\ D\ {\isacharequal}\ \isanewline
\ \ \ \ \ \ {\isasymzero}\isactrlbsub V\isactrlesub {\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ a{\isacharprime}{\isacharunderscore}lc\ \isanewline
\ \ \ \ \ \ \ \ V{\isachardot}module{\isachardot}smult{\isacharunderscore}minus{\isacharunderscore}{\isadigit{1}}\ \ V{\isachardot}module{\isachardot}M{\isachardot}r{\isacharunderscore}neg{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ lccomp{\isadigit{1}}\ lccomp{\isadigit{2}}\ \isacommand{have}\isamarkupfalse%
\ lc{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}V{\isachardot}module{\isachardot}lincomb\ {\isacharparenleft}{\isasymlambda}v{\isachardot}\ if\ v{\isasymin}A{\isacharprime}\ then\ a{\isacharprime}\ v\ else\ {\isasymominus}\isactrlbsub K\isactrlesub {\isasymone}\isactrlbsub K\isactrlesub {\isasymotimes}\isactrlbsub K\isactrlesub \ d\ v{\isacharparenright}\ {\isacharparenleft}A{\isacharprime}{\isasymunion}D{\isacharparenright}\isanewline
\ \ \ \ \ \ {\isacharequal}{\isasymzero}\isactrlbsub V\isactrlesub {\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ disj\ a{\isacharprime}\ v\ D\ \isacommand{have}\isamarkupfalse%
\ v{\isacharunderscore}nin{\isacharcolon}\ {\isachardoublequoteopen}v{\isasymnotin}A{\isacharprime}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ A{\isacharprime}fin\ Dfin\ \isanewline
\ \ \ \ \ \ A{\isacharprime}inC\ DinC\ \isanewline
\ \ \ \ \ \ e{\isacharunderscore}fun\ d\ \isanewline
\ \ \ \ \ \ A{\isacharprime}sub\ D\ disj\ \isanewline
\ \ \ \ \ \ v\ dvnz\ \isanewline
\ \ \ \ \ \ lc{\isadigit{0}}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ AC{\isacharunderscore}ld{\isacharcolon}\ {\isachardoublequoteopen}V{\isachardot}module{\isachardot}lin{\isacharunderscore}dep\ {\isacharparenleft}A{\isasymunion}C{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}intro\ V{\isachardot}module{\isachardot}lin{\isacharunderscore}dep{\isacharunderscore}crit{\isacharbrackleft}\isakeyword{where}\ {\isacharquery}A{\isacharequal}{\isachardoublequoteopen}A{\isacharprime}{\isasymunion}D{\isachardoublequoteclose}\ \isakeyword{and}\ \isanewline
\ \ \ \ \ \ \ \ {\isacharquery}S{\isacharequal}{\isachardoublequoteopen}A{\isasymunion}C{\isachardoublequoteclose}\ \isakeyword{and}\ {\isacharquery}a{\isacharequal}{\isachardoublequoteopen}{\isasymlambda}v{\isachardot}\ if\ v{\isasymin}A{\isacharprime}\ then\ a{\isacharprime}\ v\ else\ {\isasymominus}\isactrlbsub K\isactrlesub {\isasymone}\isactrlbsub K\isactrlesub {\isasymotimes}\isactrlbsub K\isactrlesub \ d\ v{\isachardoublequoteclose}\ \isakeyword{and}\ {\isacharquery}v{\isacharequal}{\isachardoublequoteopen}v{\isachardoublequoteclose}{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ dest{\isacharcolon}\ integral{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ AC{\isacharunderscore}ld\ ACbasis\ \isacommand{show}\isamarkupfalse%
\ False\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold\ V{\isachardot}basis{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ C{\isacharprime}{\isacharunderscore}card{\isacharcolon}\ {\isachardoublequoteopen}inj{\isacharunderscore}on\ T\ C{\isachardoublequoteclose}\ {\isachardoublequoteopen}card\ C\ {\isacharequal}\ card\ {\isacharquery}C{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}inj{\isacharunderscore}on\ T\ C{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ ccontr{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}inj{\isacharunderscore}on\ T\ C{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ v\ w\ \isakeyword{where}\ {\isachardoublequoteopen}v{\isasymin}C{\isachardoublequoteclose}\ {\isachardoublequoteopen}w{\isasymin}C{\isachardoublequoteclose}\ {\isachardoublequoteopen}v{\isasymnoteq}w{\isachardoublequoteclose}\ {\isachardoublequoteopen}T\ v\ {\isacharequal}\ T\ w{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold\ inj{\isacharunderscore}on{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ this\ CinC\ \isacommand{show}\isamarkupfalse%
\ False\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}intro\ lc{\isacharunderscore}in{\isacharunderscore}ker{\isacharbrackleft}\isakeyword{where}\ {\isacharquery}D{\isacharequal}{\isachardoublequoteopen}{\isacharbraceleft}v{\isacharcomma}w{\isacharbraceright}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isacharquery}d{\isacharequal}{\isachardoublequoteopen}{\isasymlambda}x{\isachardot}\ if\ x{\isacharequal}v\ then\ {\isasymone}\isactrlbsub K\isactrlesub \ else\ {\isasymominus}\isactrlbsub K\isactrlesub {\isasymone}\isactrlbsub K\isactrlesub {\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isakeyword{and}\ {\isacharquery}v{\isacharequal}{\isachardoublequoteopen}v{\isachardoublequoteclose}{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ V{\isachardot}module{\isachardot}lincomb{\isacharunderscore}def\ hom{\isacharunderscore}sum\ ring{\isacharunderscore}subset{\isacharunderscore}carrier\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ W{\isachardot}module{\isachardot}smult{\isacharunderscore}minus{\isacharunderscore}{\isadigit{1}}\ r{\isacharunderscore}neg\ T{\isacharunderscore}im{\isacharparenright}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ this\ Cfin\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ C\ {\isacharequal}\ card\ {\isacharquery}C{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ card{\isacharunderscore}image{\isacharparenright}\ \isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}f{\isacharequal}{\isachardoublequoteopen}the{\isacharunderscore}inv{\isacharunderscore}into\ C\ T{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ f{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}\ x{\isasymin}C\ {\isasymLongrightarrow}\ {\isacharquery}f\ {\isacharparenleft}T\ x{\isacharparenright}\ {\isacharequal}\ x{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymAnd}y{\isachardot}\ y{\isasymin}{\isacharquery}C{\isacharprime}\ {\isasymLongrightarrow}\ T\ {\isacharparenleft}{\isacharquery}f\ y{\isacharparenright}\ {\isacharequal}\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}insert\ C{\isacharprime}{\isacharunderscore}card{\isacharparenleft}{\isadigit{1}}{\isacharparenright}{\isacharparenright}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}metis\ the{\isacharunderscore}inv{\isacharunderscore}into{\isacharunderscore}f{\isacharunderscore}f{\isacharparenright}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ f{\isacharunderscore}the{\isacharunderscore}inv{\isacharunderscore}into{\isacharunderscore}f{\isacharparenright}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ C{\isacharprime}{\isacharunderscore}li{\isacharcolon}\ {\isachardoublequoteopen}im{\isachardot}lin{\isacharunderscore}indpt\ {\isacharquery}C{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ ccontr{\isacharparenright}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ Cld{\isacharcolon}\ {\isachardoublequoteopen}{\isasymnot}im{\isachardot}lin{\isacharunderscore}indpt\ {\isacharquery}C{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ Cld\ cim\ subs{\isacharunderscore}im\ \isacommand{have}\isamarkupfalse%
\ CldW{\isacharcolon}\ {\isachardoublequoteopen}W{\isachardot}module{\isachardot}lin{\isacharunderscore}dep\ {\isacharquery}C{\isacharprime}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}subst\ sym{\isacharbrackleft}OF\ W{\isachardot}module{\isachardot}span{\isacharunderscore}li{\isacharunderscore}not{\isacharunderscore}depend{\isacharparenleft}{\isadigit{2}}{\isacharparenright}{\isacharbrackleft}\isakeyword{where}\ {\isacharquery}S{\isacharequal}{\isachardoublequoteopen}T{\isacharbackquote}C{\isachardoublequoteclose}\ \isakeyword{and}\ {\isacharquery}N{\isacharequal}{\isachardoublequoteopen}imT{\isachardoublequoteclose}{\isacharbrackright}{\isacharbrackright}{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ C\ CldW\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}c{\isacharprime}\ v{\isacharprime}{\isachardot}\ {\isacharparenleft}c{\isacharprime}{\isasymin}\ {\isacharparenleft}{\isacharquery}C{\isacharprime}{\isasymrightarrow}carrier\ K{\isacharparenright}{\isacharparenright}\ {\isasymand}\ {\isacharparenleft}W{\isachardot}module{\isachardot}lincomb\ c{\isacharprime}\ {\isacharquery}C{\isacharprime}\ {\isacharequal}\ {\isasymzero}\isactrlbsub W\isactrlesub {\isacharparenright}\ \isanewline
\ \ \ \ \ \ {\isasymand}\ {\isacharparenleft}v{\isacharprime}{\isasymin}{\isacharquery}C{\isacharprime}{\isacharparenright}\ {\isasymand}\ {\isacharparenleft}c{\isacharprime}\ v{\isacharprime}{\isasymnoteq}\ {\isasymzero}\isactrlbsub K\isactrlesub {\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ W{\isachardot}module{\isachardot}finite{\isacharunderscore}lin{\isacharunderscore}dep{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ c{\isacharprime}\ v{\isacharprime}\ \isakeyword{where}\ c{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}c{\isacharprime}{\isasymin}\ {\isacharparenleft}{\isacharquery}C{\isacharprime}{\isasymrightarrow}carrier\ K{\isacharparenright}{\isacharparenright}\ {\isasymand}\ {\isacharparenleft}W{\isachardot}module{\isachardot}lincomb\ c{\isacharprime}\ {\isacharquery}C{\isacharprime}\ {\isacharequal}\ {\isasymzero}\isactrlbsub W\isactrlesub {\isacharparenright}\ \isanewline
\ \ \ \ \ \ {\isasymand}\ {\isacharparenleft}v{\isacharprime}{\isasymin}{\isacharquery}C{\isacharprime}{\isacharparenright}\ {\isasymand}\ {\isacharparenleft}c{\isacharprime}\ v{\isacharprime}{\isasymnoteq}\ {\isasymzero}\isactrlbsub K\isactrlesub {\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ c{\isacharprime}fun{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}c{\isacharprime}{\isasymin}\ {\isacharparenleft}{\isacharquery}C{\isacharprime}{\isasymrightarrow}carrier\ K{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\ c{\isacharprime}lc{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}W{\isachardot}module{\isachardot}lincomb\ c{\isacharprime}\ {\isacharquery}C{\isacharprime}\ {\isacharequal}\ {\isasymzero}\isactrlbsub W\isactrlesub {\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\ \isanewline
\ \ \ \ \ \ v{\isacharprime}{\isacharcolon}{\isachardoublequoteopen}{\isacharparenleft}v{\isacharprime}{\isasymin}{\isacharquery}C{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\ cvnz{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}c{\isacharprime}\ v{\isacharprime}{\isasymnoteq}\ {\isasymzero}\isactrlbsub K\isactrlesub {\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto%
\begin{isamarkuptxt}%
We take the inverse image of $C'$ under $T$ to get a linear combination of $C$ that is 
in the kernel and hence a linear combination of $A$. This contradicts $A\cup C$ being linearly
independent.%
\end{isamarkuptxt}%
\isamarkuptrue%
\ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}c{\isacharequal}{\isachardoublequoteopen}{\isasymlambda}v{\isachardot}\ c{\isacharprime}\ {\isacharparenleft}T\ v{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ c{\isacharprime}fun\ \isacommand{have}\isamarkupfalse%
\ c{\isacharunderscore}fun{\isacharcolon}\ {\isachardoublequoteopen}{\isacharquery}c{\isasymin}\ C{\isasymrightarrow}carrier\ K{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ Cfin\ \isanewline
\ \ \ \ \ \ c{\isacharunderscore}fun\ c{\isacharprime}fun\ \isanewline
\ \ \ \ \ \ C{\isacharprime}{\isacharunderscore}card\ \isanewline
\ \ \ \ \ \ CinC\ \isanewline
\ \ \ \ \ \ f\ \ \isanewline
\ \ \ \ \ \ c{\isacharprime}lc\ \isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ T{\isacharunderscore}lc{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}T\ {\isacharparenleft}V{\isachardot}module{\isachardot}lincomb\ {\isacharquery}c\ C{\isacharparenright}\ {\isacharequal}\ {\isasymzero}\isactrlbsub W\isactrlesub {\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}unfold\ V{\isachardot}module{\isachardot}lincomb{\isacharunderscore}def\ W{\isachardot}module{\isachardot}lincomb{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}subst\ hom{\isacharunderscore}sum{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}drule\ Pi{\isacharunderscore}implies{\isacharunderscore}Pi{\isadigit{2}}{\isacharparenright}{\isacharplus}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}auto\ cong{\isacharcolon}\ finsum{\isacharunderscore}cong\ simp\ add{\isacharcolon}\ T{\isacharunderscore}smult\ ring{\isacharunderscore}subset{\isacharunderscore}carrier\ Pi{\isacharunderscore}simp{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}subst\ finsum{\isacharunderscore}reindex{\isacharbrackleft}\isakeyword{where}\ {\isacharquery}f{\isacharequal}{\isachardoublequoteopen}{\isasymlambda}w{\isachardot}\ c{\isacharprime}\ w\ {\isasymodot}\isactrlbsub W\isactrlesub \ w{\isachardoublequoteclose}\ \isakeyword{and}\ {\isacharquery}h{\isacharequal}{\isachardoublequoteopen}T{\isachardoublequoteclose}\ \isakeyword{and}\ {\isacharquery}A{\isacharequal}{\isachardoublequoteopen}C{\isachardoublequoteclose}{\isacharcomma}\ THEN\ sym{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ Pi{\isacharunderscore}simp{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ f\ c{\isacharprime}fun\ cvnz\ v{\isacharprime}\ T{\isacharunderscore}lc{\isacharunderscore}{\isadigit{0}}\ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ lc{\isacharunderscore}in{\isacharunderscore}ker{\isacharbrackleft}\isakeyword{where}\ {\isacharquery}D{\isacharequal}{\isachardoublequoteopen}C{\isachardoublequoteclose}\ \isakeyword{and}\ {\isacharquery}d{\isacharequal}{\isachardoublequoteopen}{\isacharquery}c{\isachardoublequoteclose}\ \isakeyword{and}\ {\isacharquery}v{\isacharequal}{\isachardoublequoteopen}{\isacharquery}f\ v{\isacharprime}{\isachardoublequoteclose}{\isacharbrackright}{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ C{\isacharprime}{\isacharunderscore}gen{\isacharcolon}\ {\isachardoublequoteopen}im{\isachardot}gen{\isacharunderscore}set\ {\isacharquery}C{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\ \isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ C{\isacharprime}{\isacharunderscore}span{\isacharcolon}\ {\isachardoublequoteopen}span\ {\isacharquery}C{\isacharprime}\ {\isacharequal}\ imT{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ equalityI{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ cim\ subs{\isacharunderscore}im\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}W{\isachardot}module{\isachardot}span\ {\isacharquery}C{\isacharprime}\ {\isasymsubseteq}\ imT{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ span{\isacharunderscore}is{\isacharunderscore}subset{\isacharcomma}\ unfold\ subspace{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}imT{\isasymsubseteq}W{\isachardot}module{\isachardot}span\ {\isacharquery}C{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}auto{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ w\isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ w{\isacharcolon}\ {\isachardoublequoteopen}w{\isasymin}imT{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ this\ finA\ Cfin\ AinC\ CinC\ \isacommand{obtain}\isamarkupfalse%
\ v\ \isakeyword{where}\ v{\isacharunderscore}inC{\isacharcolon}\ {\isachardoublequoteopen}v{\isasymin}carrier\ V{\isachardoublequoteclose}\ \isakeyword{and}\ w{\isacharunderscore}eq{\isacharunderscore}T{\isacharunderscore}v{\isacharcolon}\ {\isachardoublequoteopen}w{\isacharequal}\ T\ v{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold\ im{\isacharunderscore}def\ image{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ finA\ Cfin\ AinC\ CinC\ v{\isacharunderscore}inC\ ACgen\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}a{\isachardot}\ \ a\ {\isasymin}\ A{\isasymunion}C\ {\isasymrightarrow}\ carrier\ K{\isasymand}\ V{\isachardot}module{\isachardot}lincomb\ a\ {\isacharparenleft}A{\isasymunion}C{\isacharparenright}\ {\isacharequal}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ V{\isachardot}module{\isachardot}finite{\isacharunderscore}in{\isacharunderscore}span{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ a\ \isakeyword{where}\ \isanewline
\ \ \ \ \ \ \ \ \ \ a{\isacharunderscore}fun{\isacharcolon}\ {\isachardoublequoteopen}a\ {\isasymin}\ A{\isasymunion}C\ {\isasymrightarrow}\ carrier\ K{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ lc{\isacharunderscore}a{\isacharunderscore}v{\isacharcolon}\ {\isachardoublequoteopen}v{\isacharequal}\ V{\isachardot}module{\isachardot}lincomb\ a\ {\isacharparenleft}A{\isasymunion}C{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}a{\isacharprime}{\isacharequal}{\isachardoublequoteopen}{\isasymlambda}v{\isachardot}\ a\ {\isacharparenleft}{\isacharquery}f\ v{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ finA\ Cfin\ AinC\ CinC\ a{\isacharunderscore}fun\ disj\ Ainker\ f\ C{\isacharprime}{\isacharunderscore}card\ \isacommand{have}\isamarkupfalse%
\ Tv{\isacharcolon}\ {\isachardoublequoteopen}T\ v\ {\isacharequal}\ W{\isachardot}module{\isachardot}lincomb\ {\isacharquery}a{\isacharprime}\ {\isacharquery}C{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}subst\ lc{\isacharunderscore}a{\isacharunderscore}v{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}subst\ V{\isachardot}module{\isachardot}lincomb{\isacharunderscore}union{\isacharcomma}\ simp{\isacharunderscore}all{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}unfold\ lincomb{\isacharunderscore}def\ V{\isachardot}module{\isachardot}lincomb{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}subst\ hom{\isacharunderscore}sum{\isacharcomma}\ auto{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}drule\ Pi{\isacharunderscore}implies{\isacharunderscore}Pi{\isadigit{2}}{\isacharparenright}{\isacharplus}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ \ Pi{\isacharunderscore}simp\ subsetD\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ hom{\isacharunderscore}sum\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ T{\isacharunderscore}ker\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}subst\ finsum{\isacharunderscore}reindex{\isacharbrackleft}\isakeyword{where}\ {\isacharquery}h{\isacharequal}{\isachardoublequoteopen}T{\isachardoublequoteclose}\ \isakeyword{and}\ {\isacharquery}f{\isacharequal}{\isachardoublequoteopen}{\isasymlambda}v{\isachardot}\ {\isacharquery}a{\isacharprime}\ v{\isasymodot}\isactrlbsub W\isactrlesub \ v{\isachardoublequoteclose}{\isacharbrackright}{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ cong{\isacharcolon}\ finsum{\isacharunderscore}cong\ simp\ add{\isacharcolon}\ \ Pi{\isacharunderscore}simp\ ring{\isacharunderscore}subset{\isacharunderscore}carrier{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ a{\isacharunderscore}fun\ f\ \isacommand{have}\isamarkupfalse%
\ a{\isacharprime}{\isacharunderscore}fun{\isacharcolon}\ {\isachardoublequoteopen}{\isacharquery}a{\isacharprime}{\isasymin}{\isacharquery}C{\isacharprime}\ {\isasymrightarrow}\ carrier\ K{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ C{\isacharprime}fin\ CinC\ this\ w{\isacharunderscore}eq{\isacharunderscore}T{\isacharunderscore}v\ a{\isacharprime}{\isacharunderscore}fun\ Tv\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}w\ {\isasymin}\ LinearCombinations{\isachardot}module{\isachardot}span\ K\ W\ {\isacharparenleft}T\ {\isacharbackquote}\ C{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}subst\ finite{\isacharunderscore}span{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ this\ subs{\isacharunderscore}im\ CinC\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}subst\ span{\isacharunderscore}li{\isacharunderscore}not{\isacharunderscore}depend{\isacharparenleft}{\isadigit{1}}{\isacharparenright}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold\ im{\isacharunderscore}def\ subspace{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ C{\isacharprime}{\isacharunderscore}li\ C{\isacharprime}{\isacharunderscore}gen\ C\ cim\ \isacommand{have}\isamarkupfalse%
\ C{\isacharprime}{\isacharunderscore}basis{\isacharcolon}\ {\isachardoublequoteopen}im{\isachardot}basis\ \ {\isacharparenleft}T{\isacharbackquote}C{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold\ im{\isachardot}basis{\isacharunderscore}def{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ C{\isacharunderscore}card{\isacharunderscore}im{\isacharcolon}\ {\isachardoublequoteopen}card\ C\ {\isacharequal}\ {\isacharparenleft}vectorspace{\isachardot}dim\ K\ {\isacharparenleft}W{\isachardot}vs\ imT{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ C{\isacharprime}fin\ C{\isacharprime}{\isacharunderscore}card\ C{\isacharprime}{\isacharunderscore}basis\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}vectorspace{\isachardot}dim\ K\ {\isacharparenleft}W{\isachardot}vs\ imT{\isacharparenright}\ {\isacharequal}\ card\ {\isacharquery}C{\isacharprime}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}intro\ im{\isachardot}dim{\isacharunderscore}basis{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ C{\isacharprime}{\isacharunderscore}card\ this\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ finA\ Abasis\ \isacommand{have}\isamarkupfalse%
\ A{\isacharunderscore}card{\isacharunderscore}ker{\isacharcolon}\ {\isachardoublequoteopen}ker{\isachardot}dim\ {\isacharequal}\ card\ A{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ ker{\isachardot}dim{\isacharunderscore}basis{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ C{\isacharunderscore}card{\isacharunderscore}im\ A{\isacharunderscore}card{\isacharunderscore}ker\ cardEq\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
\end{isabellebody}%
%%% Local Variables:
%%% mode: latex
%%% TeX-master: "root"
%%% End:
